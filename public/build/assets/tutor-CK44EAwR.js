import{I as re,K as ie,L as ce,M as Y,N as de,O as ue,r as b,P as me,c as q,Q as fe,R as he,S as pe,T as H,b as t,W as O,F as C,X as ve,Y as _e,l as S,Z as ye,$ as Ve,A as U,s as T,o as ge,p as B,w as h,e as i,f as e,V as K,h as p,H as Q,a as v,a0 as A,q as G,t as w,i as F,k as we}from"./main-BxyEjo_3.js";import{d as X}from"./debounce-Bv8yqYqt.js";import{V as Z,b as ke,c as j}from"./VCard-BxxGTzqL.js";import{V as xe,a as J}from"./VTable-BD1bYTgV.js";import{V as be}from"./VPagination-BXVUgEgu.js";import{m as Ce,V as ee}from"./VSelectionControl-HSdEKW3Y.js";import{V as Se}from"./VDialog-A2RhcXhT.js";import"./VAvatar-zr2EPRwe.js";import"./VImg-Dtknfmpa.js";const Pe=re({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ie(),...Ce()},"VSwitch"),Ie=ce()({name:"VSwitch",inheritAttrs:!1,props:Pe(),emits:{"update:focused":a=>!0,"update:modelValue":a=>!0,"update:indeterminate":a=>!0},setup(a,y){let{attrs:N,slots:n}=y;const V=Y(a,"indeterminate"),u=Y(a,"modelValue"),{loaderClasses:P}=de(a),{isFocused:M,focus:R,blur:L}=ue(a),D=b(),m=me&&window.matchMedia("(forced-colors: active)").matches,r=q(()=>typeof a.loading=="string"&&a.loading!==""?a.loading:a.color),l=fe(),f=q(()=>a.id||`switch-${l}`);function s(){V.value&&(V.value=!1)}function o(c){var d,k;c.stopPropagation(),c.preventDefault(),(k=(d=D.value)==null?void 0:d.input)==null||k.click()}return he(()=>{const[c,d]=pe(N),k=H.filterProps(a),_=ee.filterProps(a);return t(H,O({class:["v-switch",{"v-switch--flat":a.flat},{"v-switch--inset":a.inset},{"v-switch--indeterminate":V.value},P.value,a.class]},c,k,{modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,id:f.value,focused:M.value,style:a.style}),{...n,default:x=>{let{id:te,messagesId:ae,isDisabled:se,isReadonly:oe,isValid:W}=x;const $={model:u,isValid:W};return t(ee,O({ref:D},_,{modelValue:u.value,"onUpdate:modelValue":[I=>u.value=I,s],id:te.value,"aria-describedby":ae.value,type:"checkbox","aria-checked":V.value?"mixed":void 0,disabled:se.value,readonly:oe.value,onFocus:R,onBlur:L},d),{...n,default:I=>{let{backgroundColorClasses:z,backgroundColorStyles:g}=I;return t("div",{class:["v-switch__track",m?void 0:z.value],style:g.value,onClick:o},[n["track-true"]&&t("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"]($)]),n["track-false"]&&t("div",{key:"append",class:"v-switch__track-false"},[n["track-false"]($)])])},input:I=>{let{inputNode:z,icon:g,backgroundColorClasses:le,backgroundColorStyles:ne}=I;return t(C,null,[z,t("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":g||a.loading},a.inset||m?void 0:le.value],style:a.inset?void 0:ne.value},[n.thumb?t(ve,{defaults:{VIcon:{icon:g,size:"x-small"}}},{default:()=>[n.thumb({...$,icon:g})]}):t(_e,null,{default:()=>[a.loading?t(ye,{name:"v-switch",active:!0,color:W.value===!1?void 0:r.value},{default:E=>n.loader?n.loader(E):t(Ve,{active:E.isActive,color:E.color,indeterminate:!0,size:"16",width:"2"},null)}):g&&t(S,{key:String(g),icon:g,size:"x-small"},null)]})])])}})}})}),{}}}),Te={class:"d-flex justify-between align-center"},Be=e("div",{class:"w-100"},[e("h4",null,"Tutor/Mentor")],-1),Fe={class:"w-25"},Ne=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase",width:"1%"}," No "),e("th",{class:"text-uppercase text-center"},"Mentor/Tutor Name"),e("th",{class:"text-uppercase text-center"},"Email"),e("th",{class:"text-uppercase text-center"},"Role"),e("th",{nowrap:""},"Inhouse Mentor"),e("th",{class:"text-uppercase text-center"},"Phone Number"),e("th",{class:"text-uppercase text-center"},"Detail")])],-1),De={nowrap:""},Ue={class:"text-start",nowrap:""},Ae={class:"text-start",nowrap:""},Me={key:0},Re={class:"d-flex justify-center"},Le={class:"text-start",nowrap:""},$e={class:"text-center",nowrap:""},ze={class:"d-flex justify-between align-center mb-3"},Ee=e("h4",{class:"w-100"},"Detail",-1),Ge=e("thead",null,[e("tr",null,[e("th",{class:"text-left",nowrap:""}," Subject Tutoring "),e("th",{nowrap:""},"Grade"),e("th",{nowrap:""},"Year"),e("th",{nowrap:""},"Fee Individual - Gross")])],-1),je={nowrap:""},Oe={nowrap:""},We={nowrap:""},Ye={nowrap:""},qe={key:0},He=e("tr",null,[e("td",{colspan:"6",class:"text-center"}," Sorry, no data found. ")],-1),Ke=[He],Qe={class:"d-flex justify-center mt-5"},nt={__name:"tutor",setup(a){const y=b(1),N=b(),n=b(),V=b([]),u=b(!1),P=async()=>{var f,s;const m="?page="+y.value,r=n.value?"&keyword="+n.value:"",l="&paginate=true";try{u.value=!0;const o=await U.get("api/v1/user/mentor-tutors"+m+r+l);o&&(y.value=o.current_page,N.value=o.last_page,V.value=o),u.value=!1}catch(o){T("error",(s=(f=o.response)==null?void 0:f.data)==null?void 0:s.message,"bottom-end"),console.error(o),u.value=!1}},M=X(async()=>{y.value=1,await P()},1e3),R=async m=>{try{const r=await U.post("api/v1/auth/email/checking",{email:m})}catch(r){console.error(r)}},L=async(m,r,l)=>{var f,s;await R(l);try{const o=await U.put("api/v1/user/mentor-tutors/"+m,{inhouse:r?1:0});o&&T("success",o.message,"bottom-end")}catch(o){console.error(o),T("error",(s=(f=o.response)==null?void 0:f.data)==null?void 0:s.errors,"bottom-end")}},D=X(async(m,r)=>{try{const l=await U.patch("api/v1/user/mentor-tutors/"+m+"/subjects/"+r.id,{fee_individual:r.fee_individual??0});l&&T("success",l.message,"bottom-end")}catch(l){console.error(l),T("error","Please fill in the field individual fee","bottom-end")}},1e3);return ge(()=>{P()}),(m,r)=>(i(),B(Z,null,{default:h(()=>[t(ke,null,{default:h(()=>[e("div",Te,[Be,e("div",Fe,[t(K,{modelValue:p(n),"onUpdate:modelValue":r[0]||(r[0]=l=>Q(n)?n.value=l:null),loading:p(u),disabled:p(u),"append-inner-icon":"ri-search-line",density:"compact",label:"Search","hide-details":"","single-line":"",onInput:p(M)},null,8,["modelValue","loading","disabled","onInput"])])])]),_:1}),t(j,null,{default:h(()=>[p(u)?(i(),B(xe,{key:0,class:"mx-auto border",type:"table-thead, table-row@10"})):(i(),B(J,{key:1},{default:h(()=>{var l,f;return[Ne,e("tbody",null,[(i(!0),v(C,null,A(p(V).data,(s,o)=>(i(),v("tr",{key:o},[e("td",null,w(parseInt(o)+1),1),e("td",De,[t(S,{icon:"ri-user-line",class:"me-3"}),F(" "+w(s.full_name),1)]),e("td",Ue,[t(S,{icon:"ri-mail-line",class:"me-3"}),F(" "+w(s.email),1)]),e("td",Ae,[t(S,{icon:"ri-user-line",class:"me-3"}),(i(!0),v(C,null,A(s.roles,(c,d)=>(i(),v("span",{key:d},[F(w(c.name)+" ",1),d<s.roles.length-1?(i(),v("span",Me,", ")):G("",!0)]))),128))]),e("td",Re,[t(Ie,{modelValue:s.inhouse,"onUpdate:modelValue":[c=>s.inhouse=c,c=>L(s.uuid,s.inhouse,s.email)],value:"1"},null,8,["modelValue","onUpdate:modelValue"])]),e("td",Le,[t(S,{icon:"ri-smartphone-line",class:"me-3"}),F(" "+w(s.phone),1)]),e("td",$e,[t(Se,{"max-width":"600"},{activator:h(({props:c})=>[t(S,O({icon:"ri-folder-info-line",class:"cursor-pointer",ref_for:!0},c),null,16)]),default:h(({isActive:c})=>[t(Z,null,{default:h(()=>[t(j,{class:"py-5"},{default:h(()=>[e("div",ze,[Ee,t(we,{size:"x-small",color:"secondary",icon:"ri-close-line",onClick:d=>c.value=!1},null,8,["onClick"])]),s.roles.findIndex(d=>d.name==="Tutor")>=0?(i(),B(J,{key:0,density:"compact"},{default:h(()=>[Ge,e("tbody",null,[(i(!0),v(C,null,A(s.roles,(d,k)=>(i(),v(C,{key:k},[d.name=="Tutor"?(i(!0),v(C,{key:0},A(d.subjects,_=>(i(),v("tr",{key:_},[e("td",je,w(_.tutor_subject),1),e("td",Oe,w(_.grade),1),e("td",We,w(_.year),1),e("td",Ye,[t(K,{prefix:"Rp. ",modelValue:_.fee_individual,"onUpdate:modelValue":[x=>_.fee_individual=x,x=>p(D)(s.uuid,_)],density:"compact",type:"number",label:"Fee Gross",class:"my-3"},null,8,["modelValue","onUpdate:modelValue"])])]))),128)):G("",!0)],64))),128))])]),_:2},1024)):(i(),B(j,{key:1,class:"text-center"},{default:h(()=>[F(" There is no tutoring subject ")]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((f=(l=p(V))==null?void 0:l.data)==null?void 0:f.length)==0?(i(),v("tfoot",qe,Ke)):G("",!0)]}),_:1})),e("div",Qe,[t(be,{modelValue:p(y),"onUpdate:modelValue":[r[1]||(r[1]=l=>Q(y)?y.value=l:null),P],length:p(N),"total-visible":5,color:"primary",density:"compact","show-first-last-page":!1},null,8,["modelValue","length"])])]),_:1})]),_:1}))}};export{nt as default};
