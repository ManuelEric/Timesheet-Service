import{I as ie,K as de,L as ce,M as q,N as ue,O as me,r as b,P as he,c as H,Q as fe,R as pe,S as _e,T as K,b as t,W,F as C,X as ve,Y as ge,l as S,Z as ye,$ as we,A as M,s as P,o as Ve,p as N,w as v,e as d,f as e,V as Q,h,H as X,a as g,a0 as L,q as G,t as f,i as B,k as ke,D as Z}from"./main-CQ2p4oC0.js";import{d as J}from"./debounce-BL7jGgIQ.js";import{V as j,b as xe,c as O}from"./VCard-CkcnvaA9.js";import{V as be,a as ee}from"./VTable-BA-gp1Kg.js";import{V as Ce}from"./VPagination-Dec8BcsY.js";import{m as Se,V as te}from"./VSelectionControl-BIo5lr8X.js";import{V as Te}from"./VDialog-PaGcOCgv.js";import"./VAvatar-BlDThdTa.js";import"./VImg-C4fRj9_E.js";const Ie=ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...de(),...Se()},"VSwitch"),Pe=ce()({name:"VSwitch",inheritAttrs:!1,props:Ie(),emits:{"update:focused":s=>!0,"update:modelValue":s=>!0,"update:indeterminate":s=>!0},setup(s,y){let{attrs:F,slots:r}=y;const w=q(s,"indeterminate"),m=q(s,"modelValue"),{loaderClasses:T}=ue(s),{isFocused:U,focus:A,blur:R}=me(s),D=b(),p=he&&window.matchMedia("(forced-colors: active)").matches,i=H(()=>typeof s.loading=="string"&&s.loading!==""?s.loading:s.color),l=fe(),_=H(()=>s.id||`switch-${l}`);function a(){w.value&&(w.value=!1)}function n(u){var o,k;u.stopPropagation(),u.preventDefault(),(k=(o=D.value)==null?void 0:o.input)==null||k.click()}return pe(()=>{const[u,o]=_e(F),k=K.filterProps(s),c=te.filterProps(s);return t(K,W({class:["v-switch",{"v-switch--flat":s.flat},{"v-switch--inset":s.inset},{"v-switch--indeterminate":w.value},T.value,s.class]},u,k,{modelValue:m.value,"onUpdate:modelValue":x=>m.value=x,id:_.value,focused:U.value,style:s.style}),{...r,default:x=>{let{id:ae,messagesId:oe,isDisabled:se,isReadonly:ne,isValid:Y}=x;const E={model:m,isValid:Y};return t(te,W({ref:D},c,{modelValue:m.value,"onUpdate:modelValue":[I=>m.value=I,a],id:ae.value,"aria-describedby":oe.value,type:"checkbox","aria-checked":w.value?"mixed":void 0,disabled:se.value,readonly:ne.value,onFocus:A,onBlur:R},o),{...r,default:I=>{let{backgroundColorClasses:$,backgroundColorStyles:V}=I;return t("div",{class:["v-switch__track",p?void 0:$.value],style:V.value,onClick:n},[r["track-true"]&&t("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](E)]),r["track-false"]&&t("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](E)])])},input:I=>{let{inputNode:$,icon:V,backgroundColorClasses:le,backgroundColorStyles:re}=I;return t(C,null,[$,t("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":V||s.loading},s.inset||p?void 0:le.value],style:s.inset?void 0:re.value},[r.thumb?t(ve,{defaults:{VIcon:{icon:V,size:"x-small"}}},{default:()=>[r.thumb({...E,icon:V})]}):t(ge,null,{default:()=>[s.loading?t(ye,{name:"v-switch",active:!0,color:Y.value===!1?void 0:i.value},{default:z=>r.loader?r.loader(z):t(we,{active:z.isActive,color:z.color,indeterminate:!0,size:"16",width:"2"},null)}):V&&t(S,{key:String(V),icon:V,size:"x-small"},null)]})])])}})}})}),{}}}),Ne={class:"d-flex justify-between align-center"},Be=e("div",{class:"w-100"},[e("h4",null,"Tutor/Mentor")],-1),Fe={class:"w-25"},De=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase",width:"1%"}," No "),e("th",{class:"text-uppercase text-center"},"Mentor/Tutor Name"),e("th",{class:"text-uppercase text-center"},"Email"),e("th",{class:"text-uppercase text-center"},"Role"),e("th",{nowrap:""},"Inhouse Mentor"),e("th",{class:"text-uppercase text-center"},"Phone Number"),e("th",{class:"text-uppercase text-center"},"Detail")])],-1),Me={nowrap:""},Le={class:"text-start",nowrap:""},Ue={class:"text-start",nowrap:""},Ae={key:0},Re={class:"d-flex justify-center"},Ee={class:"text-start",nowrap:""},$e={class:"text-center",nowrap:""},ze={class:"d-flex justify-between align-center mb-3"},Ge=e("h4",{class:"w-100"},"Detail",-1),Oe={class:"text-left",nowrap:""},We={nowrap:""},Ye={nowrap:""},qe=e("th",{nowrap:""},"Year",-1),He=e("th",{nowrap:""},"Fee Individual - Gross",-1),Ke={nowrap:""},Qe={nowrap:""},Xe={nowrap:""},Ze={nowrap:""},Je={nowrap:""},je={key:0},et=e("tr",null,[e("td",{colspan:"6",class:"text-center"}," Sorry, no data found. ")],-1),tt=[et],at={class:"d-flex justify-center mt-5"},mt={__name:"tutor",setup(s){const y=b(1),F=b(),r=b(),w=b([]),m=b(!1),T=async()=>{var _,a;const p="?page="+y.value,i=r.value?"&keyword="+r.value:"",l="&paginate=true";try{m.value=!0;const n=await M.get("api/v1/user/mentor-tutors"+p+i+l);n&&(y.value=n.current_page,F.value=n.last_page,w.value=n),m.value=!1}catch(n){P("error",(a=(_=n.response)==null?void 0:_.data)==null?void 0:a.message,"bottom-end"),console.error(n),m.value=!1}},U=J(async()=>{y.value=1,await T()},1e3),A=async p=>{try{const i=await M.post("api/v1/auth/email/checking",{email:p})}catch(i){console.error(i)}},R=async(p,i,l)=>{var _,a;await A(l);try{const n=await M.put("api/v1/user/mentor-tutors/"+p,{inhouse:i?1:0});n&&P("success",n.message,"bottom-end")}catch(n){console.error(n),P("error",(a=(_=n.response)==null?void 0:_.data)==null?void 0:a.errors,"bottom-end")}},D=J(async(p,i)=>{try{const l=await M.patch("api/v1/user/mentor-tutors/"+p+"/subjects/"+i.id,{fee_individual:i.fee_individual??0});l&&P("success",l.message,"bottom-end")}catch(l){console.error(l),P("error","Please fill in the field individual fee","bottom-end")}},1e3);return Ve(()=>{T()}),(p,i)=>(d(),N(j,null,{default:v(()=>[t(xe,null,{default:v(()=>[e("div",Ne,[Be,e("div",Fe,[t(Q,{modelValue:h(r),"onUpdate:modelValue":i[0]||(i[0]=l=>X(r)?r.value=l:null),loading:h(m),disabled:h(m),"append-inner-icon":"ri-search-line",density:"compact",label:"Search","hide-details":"","single-line":"",onInput:h(U)},null,8,["modelValue","loading","disabled","onInput"])])])]),_:1}),t(O,null,{default:v(()=>[h(m)?(d(),N(be,{key:0,class:"mx-auto border",type:"table-thead, table-row@10"})):(d(),N(ee,{key:1},{default:v(()=>{var l,_;return[De,e("tbody",null,[(d(!0),g(C,null,L(h(w).data,(a,n)=>(d(),g("tr",{key:n},[e("td",null,f(parseInt(n)+1),1),e("td",Me,[t(S,{icon:"ri-user-line",class:"me-3"}),B(" "+f(a.full_name),1)]),e("td",Le,[t(S,{icon:"ri-mail-line",class:"me-3"}),B(" "+f(a.email),1)]),e("td",Ue,[t(S,{icon:"ri-user-line",class:"me-3"}),(d(!0),g(C,null,L(a.roles,(u,o)=>(d(),g("span",{key:o},[B(f(u.name)+" ",1),o<a.roles.length-1?(d(),g("span",Ae,", ")):G("",!0)]))),128))]),e("td",Re,[t(Pe,{modelValue:a.inhouse,"onUpdate:modelValue":[u=>a.inhouse=u,u=>R(a.uuid,a.inhouse,a.email)],value:"1"},null,8,["modelValue","onUpdate:modelValue"])]),e("td",Ee,[t(S,{icon:"ri-smartphone-line",class:"me-3"}),B(" "+f(a.phone),1)]),e("td",$e,[t(Te,{"max-width":"700"},{activator:v(({props:u})=>[t(S,W({icon:"ri-folder-info-line",class:"cursor-pointer",ref_for:!0},u),null,16)]),default:v(({isActive:u})=>[t(j,null,{default:v(()=>[t(O,{class:"py-5"},{default:v(()=>[e("div",ze,[Ge,t(ke,{size:"x-small",color:"secondary",icon:"ri-close-line",onClick:o=>u.value=!1},null,8,["onClick"])]),a.roles.findIndex(o=>o.name==="Tutor")>=0||a.roles.findIndex(o=>o.name==="External Mentor")>=0?(d(),N(ee,{key:0,density:"compact"},{default:v(()=>[e("thead",null,[e("tr",null,[e("th",Oe,f(a.roles.findIndex(o=>o.name==="Tutor")>=0?"Subject Tutoring":"Engagement Type"),1),e("th",We,f(a.roles.findIndex(o=>o.name==="Tutor")>=0?"Curriculum":"Package Name"),1),e("th",Ye,f(a.roles.findIndex(o=>o.name==="Tutor")>=0?"Grade":"Stream"),1),qe,He])]),e("tbody",null,[(d(!0),g(C,null,L(a.roles,(o,k)=>(d(),g(C,{key:k},[o.name=="Tutor"||o.name=="External Mentor"?(d(!0),g(C,{key:0},L(o.subjects,c=>(d(),g("tr",{key:c},[e("td",Ke,f(o.name=="Tutor"?c.tutor_subject:c.engagement_type_name),1),e("td",Qe,f(o.name=="Tutor"?c.curriculum_name:c.package_name),1),e("td",Xe,f(o.name=="Tutor"?c.grade:c.stream),1),e("td",Ze,f(h(Z)(c.start_date).format("LL")+" - "+h(Z)(c.end_date).format("LL")),1),e("td",Je,[t(Q,{prefix:"Rp. ",modelValue:c.fee_individual,"onUpdate:modelValue":[x=>c.fee_individual=x,x=>h(D)(a.uuid,c)],density:"compact",type:"number",label:"Fee Gross",class:"my-3"},null,8,["modelValue","onUpdate:modelValue"])])]))),128)):G("",!0)],64))),128))])]),_:2},1024)):(d(),N(O,{key:1,class:"text-center"},{default:v(()=>[B(" There is no tutoring subject ")]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((_=(l=h(w))==null?void 0:l.data)==null?void 0:_.length)==0?(d(),g("tfoot",je,tt)):G("",!0)]}),_:1})),e("div",at,[t(Ce,{modelValue:h(y),"onUpdate:modelValue":[i[1]||(i[1]=l=>X(y)?y.value=l:null),T],length:h(F),"total-visible":5,color:"primary",density:"compact","show-first-last-page":!1},null,8,["modelValue","length"])])]),_:1})]),_:1}))}};export{mt as default};
