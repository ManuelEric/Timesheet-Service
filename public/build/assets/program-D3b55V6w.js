import{r as u,e as ne,o as v,f as C,w as t,b as l,Z as de,u as e,z as O,V as j,a as k,t as G,h as L,W,j as T,Y as ee,m as ce,A as N,s as le,$ as _e,c as z,F as se,l as ge,x as be,X as ie,n as ye}from"./main-Dd-p0o56.js";import{r as h}from"./rules-CkvmYWH-.js";import{a as te,c as me,V as ae,b as Ve}from"./VCard-BJnqwnl1.js";import{V as pe}from"./VForm-CNt-sRRC.js";import{V as re,a as y}from"./VRow-BHPkAc7T.js";import{V as R}from"./VAutocomplete-DkvfsjFx.js";import{V as fe}from"./VAlert-C9tlaHz8.js";import{V as J}from"./VTooltip-CuxDIo-s.js";import{V as ve}from"./VTextarea-D4nDQFWv.js";import{d as ke}from"./debounce-Dulx9YbP.js";import{V as ue}from"./VDialog-CMzGIWsX.js";import{a as xe,V as he}from"./VTable-PiYYgmA0.js";import{V as we}from"./VPagination-C_70ad1x.js";import{T as Ce}from"./index-Cypgk5YJ.js";import{V as je}from"./VCheckbox-CrF6HUX_.js";import"./VAvatar-RsO6An6F.js";import"./VImg-DWnNeRyg.js";import"./VList-Ca2ozMqt.js";import"./ssrBoot-2GJMER6Q.js";import"./VDivider-lDNUofGS.js";import"./VCheckboxBtn-KOqanx-e.js";import"./VSelectionControl-Gwa7R0uV.js";import"./VSlideGroup-CMo3eaRT.js";const Te={__name:"program_add",props:{selected:Object},emits:["close","reload"],setup(K,{emit:x}){var c,r;const U=K,S=x,d=u(!1),_=u([]),Y=u([]),B=u([]),A=u([]),q=u([]),X=u([]),$=u([]),F=u(!1),w=(r=(c=U.selected[0])==null?void 0:c.require)==null?void 0:r.toLowerCase(),P=u(null),D=u(null),i=u(),o=u({ref_id:U.selected.map(n=>n.id),mentortutor_email:null,subject_id:null,inhouse_id:null,package_id:null,tax:null,individual_fee:null,duration:"",notes:"",pic_id:[],curriculum_id:null}),f=async(n=!1)=>{const a=n?"api/v1/user/mentor-tutors?inhouse=true&role="+w:"api/v1/user/mentor-tutors?role="+w;try{const b=await N.get(a);b&&(n?$.value=Object.values(b):Y.value=b)}catch(b){console.error(b)}},E=async()=>{try{const n=await N.get("api/v1/package/component/list?category="+w);n&&(q.value=n)}catch(n){console.error(n)}},g=()=>{const n=o.value.package_id,a=q.value.findIndex(V=>V.id===n);let b=q.value[a];b.detail?(F.value=!0,o.value.duration=b.detail):(F.value=!1,o.value.duration=null)},Z=async()=>{try{const n=await N.get("api/v1/user/component/list");n&&(X.value=n)}catch(n){console.error(n)}},m=async(n,a=null,b=0)=>{if(P.value=b,o.value.tax=(b==1,2.5),o.value.subject_id=null,w=="mentor")o.value.subject_id=n[0].subjects[0].id;else try{const V=await N.get("api/v1/user/mentor-tutors/"+a+"/subjects");V&&(A.value=V)}catch(V){console.error(V)}},H=async(n,a,b)=>{if(a)try{const V=await N.get("api/v1/component/fee/"+n+"/"+a+"/"+b);V&&(o.value.individual_fee=V.fee_individual,V.fee_individual?Q():D.value=null)}catch(V){console.error(V)}},M=async()=>{try{const n=await N.get("api/v1/curriculum/component/list");n&&(B.value=n)}catch(n){console.error(n)}},I=async()=>{var a,b,V;o.value.mentortutor_email=_.value.email;const{valid:n}=await i.value.validate();if(n){d.value=!0;try{const s=await N.post("api/v1/timesheet/create",o.value);s&&(le("success",s.message,"bottom-end"),S("reload"),o.value={ref_id:[],mentortutor_email:null,subject_id:null,subject_name:null,inhouse_id:null,package_id:null,duration:"",notes:"",pic_id:[],tax:null,individual_fee:""},_.value=[],window.open("/admin/timesheet/tutoring/"+((a=s.data)==null?void 0:a.timesheet_id),"_blank"))}catch(s){if(console.log(s),(V=(b=s==null?void 0:s.response)==null?void 0:b.data)!=null&&V.errors){const oe=s.response.data.errors;le("error",oe,"bottom-end")}}finally{S("close"),d.value=!1}}},Q=()=>{const n=o.value.individual_fee*(1-o.value.tax/100);D.value=Math.ceil(n)},p=()=>{const n=D.value/(1-o.value.tax/100);o.value.individual_fee=Math.ceil(n)};return ne(()=>{f(),f(!0),E(),Z(),M()}),(n,a)=>(v(),C(ae,{"max-width":"650","prepend-icon":"ri-send-plane-line",title:"Assign to Tutor"},{default:t(()=>[l(te,null,{default:t(()=>[l(pe,{onSubmit:de(I,["prevent"]),ref_key:"formData",ref:i,"validate-on":"input"},{default:t(()=>[l(re,null,{default:t(()=>{var b,V;return[l(y,{md:"12",cols:"12"},{default:t(()=>[l(R,{clearable:"",modelValue:e(_),"onUpdate:modelValue":[a[0]||(a[0]=s=>O(_)?_.value=s:null),a[1]||(a[1]=s=>m(e(_).roles,e(_).uuid,e(_).has_npwp))],label:"Tutor Name",items:e(Y),"item-props":s=>({title:s.full_name,subtitle:s.roles.map(oe=>oe.name).join(", ")}),rules:e(h).required,loading:e(d),disabled:e(d),density:"compact"},null,8,["modelValue","items","item-props","rules","loading","disabled"]),e(P)!=null?(v(),C(fe,{key:0,color:e(P)==1?"success":"error",class:"py-1 mt-2"},{default:t(()=>[l(j,{icon:"ri-error-warning-line",class:"mr-2"}),k("small",null," Tutor "+G(e(P)==1?"already":"don`t")+" have NPWP ",1)]),_:1},8,["color"])):L("",!0)]),_:1}),l(y,{md:"6",cols:"6"},{default:t(()=>[l(R,{clearable:"",modelValue:e(o).curriculum_id,"onUpdate:modelValue":[a[2]||(a[2]=s=>e(o).curriculum_id=s),a[3]||(a[3]=s=>H(e(_).id,e(o).subject_name,e(o).curriculum_id))],label:"Curriculum",items:e(B),"item-props":s=>({title:s.name}),rules:e(h).required,loading:e(d),disabled:e(d),density:"compact","item-value":"id"},null,8,["modelValue","items","item-props","rules","loading","disabled"])]),_:1}),((V=(b=U.selected[0])==null?void 0:b.require)==null?void 0:V.toLowerCase())=="tutor"?(v(),C(y,{key:0,md:"6",cols:"6"},{default:t(()=>[l(R,{clearable:"",modelValue:e(o).subject_name,"onUpdate:modelValue":[a[4]||(a[4]=s=>e(o).subject_name=s),a[5]||(a[5]=s=>H(e(_).id,e(o).subject_name,e(o).curriculum_id))],label:"Subject Tutoring",items:e(A),loading:e(d),disabled:e(d),rules:e(h).required,density:"compact"},null,8,["modelValue","items","loading","disabled","rules"])]),_:1})):L("",!0),l(y,{md:"8",cols:"8"},{default:t(()=>[l(R,{clearable:"",label:"Package",modelValue:e(o).package_id,"onUpdate:modelValue":[a[6]||(a[6]=s=>e(o).package_id=s),g],items:e(q),density:"compact","item-props":s=>({title:s.package!=null?s.type_of+" - "+s.package:s.type_of,subtitle:s.detail?s.detail/60+" Hours":"Customizable"}),"item-value":"id",rules:e(h).required,loading:e(d),disabled:e(d)},null,8,["modelValue","items","item-props","rules","loading","disabled"])]),_:1}),l(y,{md:"4",cols:"4"},{default:t(()=>[l(W,{type:"number",clearable:"",label:+e(o).duration/60?"Minutes ("+e(o).duration/60+" Hours)":"Minutes",readonly:e(F),modelValue:e(o).duration,"onUpdate:modelValue":a[7]||(a[7]=s=>e(o).duration=s),density:"compact",rules:e(h).required},null,8,["label","readonly","modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"7"},{default:t(()=>[l(W,{type:"number",clearable:"",label:"Fee/hours (Nett)",modelValue:e(D),"onUpdate:modelValue":[a[8]||(a[8]=s=>O(D)?D.value=s:null),p],density:"compact",rules:e(h).required},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"5"},{default:t(()=>[l(W,{type:"number",clearable:"",label:"Tax",modelValue:e(o).tax,"onUpdate:modelValue":[a[9]||(a[9]=s=>e(o).tax=s),p],rules:e(h).required,density:"compact"},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"12"},{default:t(()=>[l(J,{activator:"parent",location:"top"},{default:t(()=>[T(" Fee Gross is automatically calculated based on the entered Net Fee and Tax Rate. ")]),_:1}),l(W,{type:"number",clearable:"",label:"Fee/hours (Gross)",modelValue:e(o).individual_fee,"onUpdate:modelValue":[a[10]||(a[10]=s=>e(o).individual_fee=s),Q],density:"compact",readonly:"",rules:e(h).required},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"6",cols:"6"},{default:t(()=>[l(R,{clearable:"",modelValue:e(o).inhouse_id,"onUpdate:modelValue":a[11]||(a[11]=s=>e(o).inhouse_id=s),label:"Inhouse Mentor/Tutor",items:e($),density:"compact","item-props":s=>({title:s.full_name}),"item-value":"uuid",loading:e(d),disabled:e(d),rules:e(h).required},null,8,["modelValue","items","item-props","loading","disabled","rules"])]),_:1}),l(y,{md:"6",cols:"6"},{default:t(()=>[l(R,{multiple:"",clearable:"",chips:"",label:"PIC",modelValue:e(o).pic_id,"onUpdate:modelValue":a[12]||(a[12]=s=>e(o).pic_id=s),items:e(X),"item-title":"full_name","item-value":"id",loading:e(d),density:"compact",disabled:e(d),rules:e(h).required},null,8,["modelValue","items","loading","disabled","rules"])]),_:1}),l(y,{md:"12"},{default:t(()=>[l(ve,{label:"Notes",modelValue:e(o).notes,"onUpdate:modelValue":a[13]||(a[13]=s=>e(o).notes=s),density:"compact"},null,8,["modelValue"])]),_:1})]}),_:1}),l(me,{class:"mt-5 px-0"},{default:t(()=>[l(ee,{variant:"tonal",color:"error",type:"button",onClick:a[14]||(a[14]=b=>S("close"))},{default:t(()=>[l(j,{icon:"ri-close-line",class:"me-3"}),T(" Close ")]),_:1}),l(ce),l(ee,{variant:"tonal",color:"success",type:"submit"},{default:t(()=>[T(" Save "),l(j,{icon:"ri-save-line",class:"ms-3"})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1}))}},qe={__name:"program_add_specialist",props:{selected:Object},emits:["close","reload"],setup(K,{emit:x}){var I,Q;const U=K,S=x,d=u(!1),_=u([]),Y=u([]),B=u([]),A=u([]),q=u([]),X=u([]),$=u(!1),F=(Q=(I=U.selected[0])==null?void 0:I.require)==null?void 0:Q.toLowerCase(),w=u(null),P=u(null),D=u(),i=u({ref_id:U.selected.map(p=>p.id),mentortutor_email:null,subject_id:null,inhouse_id:null,package_id:null,duration:"",tax:null,individual_fee:null,notes:"",pic_id:[]}),o=async(p=!1)=>{const c=F=="mentor"?"External Mentor":F,r=p?"api/v1/user/mentor-tutors?inhouse=true&role="+F:"api/v1/user/mentor-tutors?role="+c;try{const n=await N.get(r);n&&(p?X.value=Object.values(n):Y.value=n)}catch(n){console.error(n)}},f=async()=>{try{const p=await N.get("api/v1/package/component/list?category="+F);p&&(A.value=p)}catch(p){console.error(p)}},E=()=>{const p=i.value.package_id,c=A.value.findIndex(n=>n.id===p);let r=A.value[c];r.detail?($.value=!0,i.value.duration=r.detail):($.value=!1,i.value.duration=null)},g=async()=>{try{const p=await N.get("api/v1/user/component/list");p&&(q.value=p)}catch(p){console.error(p)}},Z=async(p,c=null,r=0)=>{var n,a,b,V;if(i.value.subject_id=null,w.value=r,i.value.tax=(r==1,2.5),F=="mentor")i.value.subject_id=(a=(n=p[0])==null?void 0:n.subjects[0])==null?void 0:a.id,i.value.individual_fee=(V=(b=p[0])==null?void 0:b.subjects[0])==null?void 0:V.fee_individual,i.value.individual_fee?H():P.value=null;else try{const s=await N.get("api/v1/user/mentor-tutors/"+c+"/subjects");s&&(B.value=s)}catch(s){console.error(s)}},m=async()=>{var c,r,n;i.value.mentortutor_email=_.value.email;const{valid:p}=await D.value.validate();if(p){d.value=!0;try{const a=await N.post("api/v1/timesheet/create",i.value);a&&(le("success",a.message,"bottom-end"),S("reload"),i.value={ref_id:[],mentortutor_email:null,subject_id:null,subject_name:null,inhouse_id:null,package_id:null,duration:"",notes:"",pic_id:[],tax:null,individual_fee:""},_.value=[],window.open("/admin/timesheet/specialist/"+((c=a.data)==null?void 0:c.timesheet_id),"_blank"))}catch(a){if((n=(r=a==null?void 0:a.response)==null?void 0:r.data)!=null&&n.errors){const b=a.response.data.errors;le("error",b,"bottom-end")}}finally{S("close"),d.value=!1}}},H=()=>{const p=i.value.individual_fee*(1-i.value.tax/100);P.value=Math.ceil(p)},M=()=>{const p=P.value/(1-i.value.tax/100);i.value.individual_fee=Math.ceil(p)};return ne(()=>{o(),o(!0),f(),g()}),(p,c)=>(v(),C(ae,{"max-width":"650","prepend-icon":"ri-send-plane-line",title:"Assign to External Mentor"},{default:t(()=>[l(te,null,{default:t(()=>[l(pe,{onSubmit:de(m,["prevent"]),ref_key:"formData",ref:D,"validate-on":"input"},{default:t(()=>[l(re,null,{default:t(()=>[l(y,{md:"12",cols:"12"},{default:t(()=>[l(R,{density:"compact",clearable:"",modelValue:e(_),"onUpdate:modelValue":[c[0]||(c[0]=r=>O(_)?_.value=r:null),c[1]||(c[1]=r=>Z(e(_).roles,e(_).uuid,e(_).has_npwp))],label:"Mentor Name",items:e(Y),"item-props":r=>({title:r.full_name,subtitle:r.roles.map(n=>n.name).join(", ")}),rules:e(h).required,loading:e(d),disabled:e(d)},null,8,["modelValue","items","item-props","rules","loading","disabled"]),e(w)!=null?(v(),C(fe,{key:0,color:e(w)==1?"success":"error",class:"py-2 mt-2"},{default:t(()=>[l(j,{icon:"ri-error-warning-line",class:"mr-2"}),k("small",null," Mentor "+G(e(w)==1?"already":"don`t")+" have NPWP ",1)]),_:1},8,["color"])):L("",!0)]),_:1}),l(y,{md:"8",cols:"8"},{default:t(()=>[l(R,{density:"compact",clearable:"",label:"Package",modelValue:e(i).package_id,"onUpdate:modelValue":[c[2]||(c[2]=r=>e(i).package_id=r),E],items:e(A),"item-props":r=>({title:r.package!=null?r.type_of+" - "+r.package:r.type_of,subtitle:r.detail?r.detail/60+" Hours":"Customizable"}),"item-value":"id",rules:e(h).required,loading:e(d),disabled:e(d)},null,8,["modelValue","items","item-props","rules","loading","disabled"])]),_:1}),l(y,{md:"4",cols:"4"},{default:t(()=>[l(W,{density:"compact",type:"number",clearable:"",label:+e(i).duration/60?""+e(i).duration/60+" Hours":"Minutes",readonly:e($),modelValue:e(i).duration,"onUpdate:modelValue":c[3]||(c[3]=r=>e(i).duration=r),rules:e(h).required},null,8,["label","readonly","modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"7"},{default:t(()=>[l(W,{type:"number",clearable:"",label:"Fee/hours (Nett)",modelValue:e(P),"onUpdate:modelValue":[c[4]||(c[4]=r=>O(P)?P.value=r:null),M],density:"compact",rules:e(h).required},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"5"},{default:t(()=>[l(W,{type:"number",clearable:"",label:"Tax",modelValue:e(i).tax,"onUpdate:modelValue":[c[5]||(c[5]=r=>e(i).tax=r),M],rules:e(h).required,density:"compact"},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"12"},{default:t(()=>[l(J,{activator:"parent",location:"top"},{default:t(()=>[T(" Fee Gross is automatically calculated based on the entered Net Fee and Tax Rate. ")]),_:1}),l(W,{type:"number",clearable:"",label:"Fee/hours (Gross)",modelValue:e(i).individual_fee,"onUpdate:modelValue":[c[6]||(c[6]=r=>e(i).individual_fee=r),H],density:"compact",readonly:"",rules:e(h).required},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"6",cols:"12"},{default:t(()=>[l(R,{density:"compact",clearable:"",modelValue:e(i).inhouse_id,"onUpdate:modelValue":c[7]||(c[7]=r=>e(i).inhouse_id=r),label:"Inhouse Mentor",items:e(X),"item-props":r=>({title:r.full_name}),"item-value":"uuid",loading:e(d),disabled:e(d),rules:e(h).required},null,8,["modelValue","items","item-props","loading","disabled","rules"])]),_:1}),l(y,{md:"6",cols:"12"},{default:t(()=>[l(R,{density:"compact",multiple:"",clearable:"",chips:"",label:"PIC",modelValue:e(i).pic_id,"onUpdate:modelValue":c[8]||(c[8]=r=>e(i).pic_id=r),items:e(q),"item-title":"full_name","item-value":"id",loading:e(d),disabled:e(d),rules:e(h).required},null,8,["modelValue","items","loading","disabled","rules"])]),_:1}),l(y,{md:"12"},{default:t(()=>[l(ve,{label:"Notes",modelValue:e(i).notes,"onUpdate:modelValue":c[9]||(c[9]=r=>e(i).notes=r)},null,8,["modelValue"])]),_:1})]),_:1}),l(me,{class:"mt-5 px-0"},{default:t(()=>[l(ee,{variant:"tonal",color:"error",type:"button",onClick:c[10]||(c[10]=r=>S("close"))},{default:t(()=>[l(j,{icon:"ri-close-line",class:"me-3"}),T(" Close ")]),_:1}),l(ce),l(ee,{variant:"tonal",color:"success",type:"submit"},{default:t(()=>[T(" Save "),l(j,{icon:"ri-save-line",class:"ms-3"})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1}))}},Ne=["innerHTML"],Ue=k("div",{class:"d-flex justify-between align-center"},[k("div",{class:"w-100"},[k("h4",null,"Program Name")])],-1),Pe={key:0,class:"d-flex bg-secondary py-1 px-2 rounded-lg",style:{"align-items":"center"}},Se=k("th",{class:"text-uppercase",width:"1%"}," # ",-1),$e=k("th",{class:"text-uppercase text-center"},"Timesheet",-1),Fe=k("th",{class:"text-uppercase text-center"},"Student",-1),Me=k("th",{class:"text-uppercase text-center"},"School Name",-1),Ie={class:"text-uppercase text-center"},Ae={class:"text-center"},De={class:"text-left",nowrap:""},Ge=["onClick"],Le={class:"text-left",nowrap:""},Re={key:0,class:"text-left",nowrap:""},Ee={key:1,class:"text-left",nowrap:""},He={key:0},ze=k("tr",null,[k("td",{colspan:"6",class:"text-center"}," Sorry, no data found. ")],-1),Be=[ze],Oe={class:"d-flex justify-center mt-5"},_l={__name:"program",props:{name:String},setup(K){const x=u([]),U=u(!1),S=u(!1),d=K,_=u(1),Y=u(),B=u(),A=u([]),q=u(!1),X=u([]),$=u(),F=u(),w=async()=>{var H,M;const o=d.name,f="?page="+_.value,E=B.value?"&keyword="+B.value:"",g=$.value?"&program_name="+encodeURIComponent($.value):"",m=o=="tutoring"?"api/v1/program/list"+f+E+g+"&paginate=true":"api/v1/request"+f+B+"&is_cancelled=true";try{q.value=!0;const I=await N.get(m);I&&(_.value=I.current_page,Y.value=I.last_page,A.value=I),q.value=!1}catch(I){le("error",(M=(H=I.response)==null?void 0:H.data)==null?void 0:M.message,"bottom-end"),console.error(I),q.value=!1}},P=async()=>{try{const o=await N.get("api/v1/program/component/list");o&&(X.value=o)}catch(o){console.error(o)}},D=ke(async o=>{_.value=1,B.value=o.target.value,await w()},1e3),i=o=>{window.open("/admin/timesheet/"+d.name+"/"+o)};return _e(()=>{w()}),ne(()=>{w(),P()}),(o,f)=>{const E=ge("VText");return v(),z(se,null,[l(ue,{modelValue:e(S),"onUpdate:modelValue":f[0]||(f[0]=g=>O(S)?S.value=g:null),width:"400"},{default:t(()=>[l(ae,{title:"Notes","prepend-icon":"ri-chat-3-line"},{default:t(()=>[l(te,null,{default:t(()=>[k("div",{innerHTML:e(F)},null,8,Ne)]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ae,null,{default:t(()=>[l(Ve,null,{default:t(()=>[Ue]),_:1}),l(te,null,{default:t(()=>[l(re,{class:"my-1"},{default:t(()=>[d.name=="tutoring"?(v(),C(y,{key:0,cols:"12",md:"3"},{default:t(()=>[l(R,{clearable:"",modelValue:e($),"onUpdate:modelValue":[f[1]||(f[1]=g=>O($)?$.value=g:null),w],label:"Program Name",items:e(X),"item-title":"program_name",placeholder:"Select Program Name",density:"compact","hide-details":"","single-line":"",loading:e(q),disabled:e(q)},null,8,["modelValue","items","loading","disabled"])]),_:1})):L("",!0),l(y,{cols:"12",md:"3"},{default:t(()=>[l(W,{loading:e(q),disabled:e(q),"append-inner-icon":"ri-search-line",density:"compact",label:"Search","hide-details":"","single-line":"",onInput:e(D)},null,8,["loading","disabled","onInput"])]),_:1}),l(y,{cols:"12",md:d.name=="tutoring"?6:9,class:"text-end"},{default:t(()=>[be((v(),C(ee,{density:"compact",color:e(x).length>0?"warning":"primary",class:"mb-2",disabled:!(e(x).length>0),onClick:f[2]||(f[2]=g=>U.value=!0)},{default:t(()=>[l(j,{icon:"ri-add-line",class:"me-3"}),T(" Assign "+G(e(x).length>1?"to Group":""),1)]),_:1},8,["color","disabled"])),[[Ce,"Generate Timesheet","start"]])]),_:1},8,["md"])]),_:1}),l(ue,{modelValue:e(U),"onUpdate:modelValue":f[7]||(f[7]=g=>O(U)?U.value=g:null),width:"auto",persistent:""},{default:t(()=>[d.name=="tutoring"?(v(),C(Te,{key:0,selected:e(x),onClose:f[3]||(f[3]=g=>{U.value=!1,x.value=[]}),onReload:f[4]||(f[4]=g=>{x.value=[],w()})},null,8,["selected"])):L("",!0),d.name=="specialist"?(v(),C(qe,{key:1,selected:e(x),onClose:f[5]||(f[5]=g=>U.value=!1),onReload:f[6]||(f[6]=g=>{x.value=[],w()})},null,8,["selected"])):L("",!0)]),_:1},8,["modelValue"]),e(x).length>0?(v(),z("div",Pe,[T(" Selected: "),(v(!0),z(se,null,ie(e(x),g=>(v(),z("small",{class:"bg-info px-3 rounded-xl ms-1 d-flex",style:{"font-size":"10px","align-items":"center"},key:g},[T(G(g.mentee)+" ",1),l(j,{icon:"ri-close-line",color:"error",class:"ms-2 cursor-pointer",onClick:Z=>x.value=e(x).filter(m=>m!==g)},null,8,["onClick"])]))),128))])):L("",!0),e(q)?(v(),C(he,{key:1,class:"mx-auto border",type:"table-thead, table-row@10"})):(v(),C(xe,{key:2,class:"table-responsive"},{default:t(()=>{var g,Z;return[k("thead",null,[k("tr",null,[Se,$e,Fe,Me,k("th",Ie,G(d.name=="tutoring"?"Program Name":"Engagement Type"),1)])]),k("tbody",null,[(v(!0),z(se,null,ie(e(A).data,(m,H)=>(v(),z("tr",{key:H,class:ye({"bg-secondary":e(x).includes(m.id)})},[k("td",null,[m.cancellation_reason?(v(),C(E,{key:0},{default:t(()=>[l(J,{activator:"parent",location:"top"},{default:t(()=>[T(" Cancel: "+G(m.cancellation_reason),1)]),_:2},1024),l(j,{icon:"ri-subtract-line",color:"error"})]),_:2},1024)):(!m.timesheet_id||!m.scnd_timesheet_id)&&!m.cancellation_reason?(v(),C(je,{key:1,modelValue:e(x),"onUpdate:modelValue":f[8]||(f[8]=M=>O(x)?x.value=M:null),value:{id:m.id,require:m.require,mentee:m.student_name}},null,8,["modelValue","value"])):m.timesheet_id&&m.scnd_timesheet_id&&!m.cancellation_reason?(v(),C(j,{key:2,icon:"ri-check-line",color:"success"})):L("",!0)]),k("td",Ae,[m.timesheet_id?(v(),C(E,{key:0,class:"cursor-pointer",onClick:M=>i(m.timesheet_id)},{default:t(()=>[l(j,{icon:"ri-file-check-line",class:"mx-1",color:"success"}),l(J,{activator:"parent",location:"top"},{default:t(()=>[T("Already")]),_:1})]),_:2},1032,["onClick"])):(v(),C(E,{key:1},{default:t(()=>[l(j,{icon:"ri-file-close-line",class:"mx-1",color:"error"}),l(J,{activator:"parent",location:"top"},{default:t(()=>[T("Not Yet")]),_:1})]),_:1})),m.scnd_timesheet_id?(v(),C(E,{key:2,class:"cursor-pointer",onClick:M=>i(m.scnd_timesheet_id)},{default:t(()=>[l(j,{icon:"ri-file-check-line",class:"mx-1",color:"success"}),l(J,{activator:"parent",location:"top"},{default:t(()=>[T("Already")]),_:1})]),_:2},1032,["onClick"])):L("",!0)]),k("td",De,[l(j,{icon:"ri-user-line",class:"me-3"}),T(" "+G(m.student_name)+" ",1),d.name=="specialist"&&m.notes?(v(),z("div",{key:0,class:"d-inline ms-2 cursor-pointer",onClick:M=>{S.value=!0,F.value=m.notes}},[l(J,{activator:"parent",location:"start"},{default:t(()=>[T(" Notes ")]),_:1}),l(j,{icon:"ri-chat-3-line",color:"info"})],8,Ge)):L("",!0)]),k("td",Le,G(m.student_school),1),d.name=="tutoring"?(v(),z("td",Re,[l(j,{icon:"ri-bookmark-line",class:"me-3"}),T(" "+G(m.free_trial?"[TRIAL]":"")+" "+G(m.program_name),1)])):(v(),z("td",Ee,[l(j,{icon:"ri-bookmark-line",class:"me-3"}),T(" "+G(m.engagement_type),1)]))],2))),128))]),((Z=(g=e(A))==null?void 0:g.data)==null?void 0:Z.length)==0?(v(),z("tfoot",He,Be)):L("",!0)]}),_:1})),k("div",Oe,[l(we,{modelValue:e(_),"onUpdate:modelValue":[f[9]||(f[9]=g=>O(_)?_.value=g:null),w],length:e(Y),"total-visible":4,color:"primary",density:"compact","show-first-last-page":!1},null,8,["modelValue","length"])])]),_:1})]),_:1})],64)}}};export{_l as default};
