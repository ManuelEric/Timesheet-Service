import{I as ie,K as de,L as ce,M as H,N as ue,O as me,r as C,P as he,c as K,Q as fe,R as pe,S as _e,T as Q,b as t,W as Y,F as T,X as ve,Y as ye,l as w,Z as ge,$ as Ve,A,s as P,o as ke,p as N,w as v,e as n,f as e,V as X,h as f,H as Z,a as u,a0 as L,q as B,t as p,i as b,k as we,D as J}from"./main-Cix3We2C.js";import{d as j}from"./debounce-Dn_3oFXu.js";import{V as ee,b as xe,c as W}from"./VCard-iv-rRJmv.js";import{V as be,a as te}from"./VTable-Ci-DczmL.js";import{V as Ce}from"./VPagination-BEO2hOWN.js";import{m as Te,V as ae}from"./VSelectionControl-CLijJqaQ.js";import{V as Se}from"./VDialog-By61gmCw.js";import{V as Ie}from"./VTooltip-Cl5MT-dL.js";import"./VAvatar-C9OhuSq6.js";import"./VImg-CEVtyd8t.js";const Pe=ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...de(),...Te()},"VSwitch"),Ne=ce()({name:"VSwitch",inheritAttrs:!1,props:Pe(),emits:{"update:focused":s=>!0,"update:modelValue":s=>!0,"update:indeterminate":s=>!0},setup(s,g){let{attrs:F,slots:d}=g;const V=H(s,"indeterminate"),h=H(s,"modelValue"),{loaderClasses:S}=ue(s),{isFocused:U,focus:R,blur:E}=me(s),M=C(),_=he&&window.matchMedia("(forced-colors: active)").matches,c=K(()=>typeof s.loading=="string"&&s.loading!==""?s.loading:s.color),i=fe(),y=K(()=>s.id||`switch-${i}`);function a(){V.value&&(V.value=!1)}function l(x){var m,o;x.stopPropagation(),x.preventDefault(),(o=(m=M.value)==null?void 0:m.input)==null||o.click()}return pe(()=>{const[x,m]=_e(F),o=Q.filterProps(s),z=ae.filterProps(s);return t(Q,Y({class:["v-switch",{"v-switch--flat":s.flat},{"v-switch--inset":s.inset},{"v-switch--indeterminate":V.value},S.value,s.class]},x,o,{modelValue:h.value,"onUpdate:modelValue":r=>h.value=r,id:y.value,focused:U.value,style:s.style}),{...d,default:r=>{let{id:D,messagesId:oe,isDisabled:se,isReadonly:ne,isValid:q}=r;const $={model:h,isValid:q};return t(ae,Y({ref:M},z,{modelValue:h.value,"onUpdate:modelValue":[I=>h.value=I,a],id:D.value,"aria-describedby":oe.value,type:"checkbox","aria-checked":V.value?"mixed":void 0,disabled:se.value,readonly:ne.value,onFocus:R,onBlur:E},m),{...d,default:I=>{let{backgroundColorClasses:G,backgroundColorStyles:k}=I;return t("div",{class:["v-switch__track",_?void 0:G.value],style:k.value,onClick:l},[d["track-true"]&&t("div",{key:"prepend",class:"v-switch__track-true"},[d["track-true"]($)]),d["track-false"]&&t("div",{key:"append",class:"v-switch__track-false"},[d["track-false"]($)])])},input:I=>{let{inputNode:G,icon:k,backgroundColorClasses:le,backgroundColorStyles:re}=I;return t(T,null,[G,t("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":k||s.loading},s.inset||_?void 0:le.value],style:s.inset?void 0:re.value},[d.thumb?t(ve,{defaults:{VIcon:{icon:k,size:"x-small"}}},{default:()=>[d.thumb({...$,icon:k})]}):t(ye,null,{default:()=>[s.loading?t(ge,{name:"v-switch",active:!0,color:q.value===!1?void 0:c.value},{default:O=>d.loader?d.loader(O):t(Ve,{active:O.isActive,color:O.color,indeterminate:!0,size:"16",width:"2"},null)}):k&&t(w,{key:String(k),icon:k,size:"x-small"},null)]})])])}})}})}),{}}}),Be={class:"d-flex justify-between align-center"},Fe=e("div",{class:"w-100"},[e("h4",null,"Tutor/Mentor")],-1),Me={class:"w-25"},De=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase",width:"1%"}," No "),e("th",{class:"text-uppercase text-center"},"Mentor/Tutor Name"),e("th",{class:"text-uppercase text-center"},"Email"),e("th",{class:"text-uppercase text-center"},"Role"),e("th",{nowrap:""},"Inhouse Mentor"),e("th",{class:"text-uppercase text-center"},"Phone Number"),e("th",{class:"text-uppercase text-center"},"Detail")])],-1),Ae={nowrap:""},Le={key:0,class:"d-inline rounded-pill text-error px-2 py-1 ms-2",style:{"font-size":"10px",border:"1px solid red"}},Ue={class:"text-start",nowrap:""},Re={class:"text-start",nowrap:""},Ee={key:0},ze={key:0},$e={key:1},Ge=e("span",null," Mentor ",-1),Oe={class:"d-flex justify-center"},We={class:"text-start",nowrap:""},Ye={class:"text-center",nowrap:""},qe={class:"d-flex justify-between align-center mb-3"},He=e("h4",{class:"w-100"},"Detail",-1),Ke={class:"text-left",nowrap:""},Qe={nowrap:""},Xe={nowrap:""},Ze=e("th",{nowrap:""},"Year",-1),Je=e("th",{nowrap:""},"Fee Individual - Gross",-1),je={nowrap:""},et=["href"],tt={nowrap:""},at={nowrap:""},ot={nowrap:""},st={nowrap:""},nt={key:0},lt=e("tr",null,[e("td",{colspan:"6",class:"text-center"}," Sorry, no data found. ")],-1),rt=[lt],it={class:"d-flex justify-center mt-5"},gt={__name:"tutor",setup(s){const g=C(1),F=C(),d=C(),V=C([]),h=C(!1),S=async()=>{var y,a;const _="?page="+g.value,c=d.value?"&keyword="+d.value:"",i="&paginate=true";try{h.value=!0;const l=await A.get("api/v1/user/mentor-tutors"+_+c+i);l&&(g.value=l.current_page,F.value=l.last_page,V.value=l),h.value=!1}catch(l){P("error",(a=(y=l.response)==null?void 0:y.data)==null?void 0:a.message,"bottom-end"),console.error(l),h.value=!1}},U=j(async()=>{g.value=1,await S()},1e3),R=async _=>{try{const c=await A.post("api/v1/auth/email/checking",{email:_})}catch(c){console.error(c)}},E=async(_,c,i)=>{var y,a;await R(i);try{const l=await A.put("api/v1/user/mentor-tutors/"+_,{inhouse:c?1:0});l&&P("success",l.message,"bottom-end")}catch(l){console.error(l),P("error",(a=(y=l.response)==null?void 0:y.data)==null?void 0:a.errors,"bottom-end")}},M=j(async(_,c)=>{try{const i=await A.patch("api/v1/user/mentor-tutors/"+_+"/subjects/"+c.id,{fee_individual:c.fee_individual??0});i&&P("success",i.message,"bottom-end")}catch(i){console.error(i),P("error","Please fill in the field individual fee","bottom-end")}},1e3);return ke(()=>{S()}),(_,c)=>(n(),N(ee,null,{default:v(()=>[t(xe,null,{default:v(()=>[e("div",Be,[Fe,e("div",Me,[t(X,{modelValue:f(d),"onUpdate:modelValue":c[0]||(c[0]=i=>Z(d)?d.value=i:null),loading:f(h),disabled:f(h),"append-inner-icon":"ri-search-line",density:"compact",label:"Search","hide-details":"","single-line":"",onInput:f(U)},null,8,["modelValue","loading","disabled","onInput"])])])]),_:1}),t(W,null,{default:v(()=>[f(h)?(n(),N(be,{key:0,class:"mx-auto border",type:"table-thead, table-row@10"})):(n(),N(te,{key:1},{default:v(()=>{var i,y;return[De,e("tbody",null,[(n(!0),u(T,null,L(f(V).data,(a,l)=>{var x;return n(),u("tr",{key:l},[e("td",null,p(parseInt(l)+1),1),e("td",Ae,[t(w,{icon:"ri-user-line",class:"me-3"}),b(" "+p(a.full_name)+" ",1),a.is_active==0?(n(),u("div",Le," Inactive ")):B("",!0)]),e("td",Ue,[t(w,{icon:"ri-mail-line",class:"me-3"}),b(" "+p(a.email),1)]),e("td",Re,[((x=a.roles)==null?void 0:x.length)>0?(n(),u("div",Ee,[t(w,{icon:"ri-user-line",class:"me-3"}),(n(!0),u(T,null,L(a.roles,(m,o)=>(n(),u("span",{key:o},[b(p(m.name)+" ",1),o<a.roles.length-1?(n(),u("span",ze,", ")):B("",!0)]))),128))])):(n(),u("div",$e,[t(w,{icon:"ri-user-line",class:"me-2"}),Ge]))]),e("td",Oe,[t(Ne,{modelValue:a.inhouse,"onUpdate:modelValue":[m=>a.inhouse=m,m=>E(a.uuid,a.inhouse,a.email)],value:1},null,8,["modelValue","onUpdate:modelValue"])]),e("td",We,[t(w,{icon:"ri-smartphone-line",class:"me-3"}),b(" "+p(a.phone),1)]),e("td",Ye,[t(Se,{"max-width":"700"},{activator:v(({props:m})=>[t(w,Y({icon:"ri-folder-info-line",class:"cursor-pointer",ref_for:!0},m),null,16)]),default:v(({isActive:m})=>[t(ee,null,{default:v(()=>[t(W,{class:"py-5"},{default:v(()=>[e("div",qe,[He,t(we,{size:"x-small",color:"secondary",icon:"ri-close-line",onClick:o=>m.value=!1},null,8,["onClick"])]),a.roles.findIndex(o=>o.name==="Tutor")>=0||a.roles.findIndex(o=>o.name==="External Mentor")>=0?(n(),N(te,{key:0,density:"compact"},{default:v(()=>[e("thead",null,[e("tr",null,[e("th",Ke,p(a.roles.findIndex(o=>o.name==="Tutor")>=0?"Subject Tutoring":"Engagement Type"),1),e("th",Qe,p(a.roles.findIndex(o=>o.name==="Tutor")>=0?"Curriculum":"Package Name"),1),e("th",Xe,p(a.roles.findIndex(o=>o.name==="Tutor")>=0?"Grade":"Stream"),1),Ze,Je])]),e("tbody",null,[(n(!0),u(T,null,L(a.roles,(o,z)=>(n(),u(T,{key:z},[o.name=="Tutor"||o.name=="External Mentor"?(n(!0),u(T,{key:0},L(o.subjects,r=>(n(),u("tr",{key:r},[e("td",je,[b(p(o.name=="Tutor"?r.tutor_subject:r.engagement_type_name)+" ",1),r.agreement?(n(),u("a",{key:0,href:r.agreement,target:"_blank",class:"ms-2 d-inline cursor-pointer"},[t(Ie,{activator:"parent",location:"end"},{default:v(()=>[b(" Check Agreement ")]),_:1}),t(w,{icon:"ri-file-pdf-2-line"})],8,et)):B("",!0)]),e("td",tt,p(o.name=="Tutor"?r.curriculum_name:r.package_name),1),e("td",at,p(o.name=="Tutor"?r.grade:r.stream),1),e("td",ot,p(f(J)(r.start_date).format("LL")+" - "+f(J)(r.end_date).format("LL")),1),e("td",st,[t(X,{prefix:"Rp. ",modelValue:r.fee_individual,"onUpdate:modelValue":[D=>r.fee_individual=D,D=>f(M)(a.uuid,r)],density:"compact",type:"number",label:"Fee Gross",class:"my-3"},null,8,["modelValue","onUpdate:modelValue"])])]))),128)):B("",!0)],64))),128))])]),_:2},1024)):(n(),N(W,{key:1,class:"text-center"},{default:v(()=>[b(" There is no tutoring subject ")]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)])])}),128))]),((y=(i=f(V))==null?void 0:i.data)==null?void 0:y.length)==0?(n(),u("tfoot",nt,rt)):B("",!0)]}),_:1})),e("div",it,[t(Ce,{modelValue:f(g),"onUpdate:modelValue":[c[1]||(c[1]=i=>Z(g)?g.value=i:null),S],length:f(F),"total-visible":5,color:"primary",density:"compact","show-first-last-page":!1},null,8,["modelValue","length"])])]),_:1})]),_:1}))}};export{gt as default};
