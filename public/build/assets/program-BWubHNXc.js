import{r as i,o as fe,e as d,p as j,w as t,b as l,f as _,t as F,a as T,F as ae,a0 as ue,h as e,j as ge,H as K,i as x,l as S,W as we,k as oe,q as G,V as Q,z as be,A as M,s as de,a1 as Ce,a2 as je,y as Te,E as qe,n as Ue}from"./main-B9R9RoZq.js";import{r as q}from"./rules-CkvmYWH-.js";import{c as se,V as ce,d as ye,b as $e}from"./VCard-CXaGyAhg.js";import{V as Ve}from"./VForm-BiEqnpxz.js";import{V as ve,a as b}from"./VRow-wI_eo93L.js";import{V as O}from"./VAutocomplete-DF_5WBG6.js";import{V as _e}from"./VDialog-CspqdkAW.js";import{V as le}from"./VTooltip-cE0Fmrkm.js";import{a as ke,V as Ne}from"./VTable-CNJS9BWd.js";import{V as xe}from"./VTextarea-CBNR96FG.js";import{d as Se}from"./debounce-BNumHCdF.js";import{V as Fe}from"./VPagination-U8aLwNaN.js";import{T as Pe}from"./index-CBrOBdho.js";import{V as Ie}from"./VCheckbox-tzhrUkxQ.js";import"./VAvatar-vDKrtj1J.js";import"./VImg-CbbqUjRu.js";import"./VList-BN1opfz2.js";import"./ssrBoot-CmorPMfO.js";import"./VDivider-CWmxtmoW.js";import"./VCheckboxBtn-D_ZhZnke.js";import"./VSelectionControl-nYMYYKK0.js";import"./VSlideGroup-DtXE-8S1.js";const Me={class:"mb-4 d-flex gap-1"},De={class:"text-sm"},Ge={class:"d-flex justify-between align-center mb-3"},Ae=_("h4",{class:"w-100"},"Detail",-1),Re=_("thead",null,[_("tr",null,[_("th",{class:"text-left",nowrap:""}," Subject Tutoring "),_("th",{nowrap:""},"Grade"),_("th",{nowrap:""},"Year"),_("th",{nowrap:""},"Fee Individual - Gross")])],-1),Le={nowrap:""},He={nowrap:""},ze={nowrap:""},Ee={nowrap:""},Be={__name:"program_add",props:{selected:Object},emits:["close","reload"],setup(ne,{emit:y}){var s,h,I,te;const V=ne,A=y,n=i(!1),f=i(null),X=i([]),W=i([]),z=i([]),$=i([]),Z=i([]),R=i([]),L=i(!1),P=(h=(s=V.selected[0])==null?void 0:s.require)==null?void 0:h.toLowerCase(),Y=i(null),E=i(null),u=i(V.selected.map(r=>r.mentee)),U=i(),a=i({ref_id:V.selected.map(r=>r.id),mentortutor_email:null,subject_id:null,inhouse_id:null,package_id:((I=V.selected[0])==null?void 0:I.package)??null,tax:null,individual_fee:null,duration:"",notes:"",pic_id:[],curriculum_id:((te=V.selected[0])==null?void 0:te.curriculum)??null}),B=async(r=!1)=>{const o=r?"api/v1/user/mentor-tutors?inhouse=true&role="+P:"api/v1/user/mentor-tutors?role="+P;try{const k=await M.get(o);k&&(r?R.value=Object.values(k):X.value=k)}catch(k){console.error(k)}},g=async()=>{try{const r=await M.get("api/v1/package/component/list?category="+P);r&&($.value=r)}catch(r){console.error(r)}},ee=()=>{const r=a.value.package_id,o=$.value.findIndex(w=>w.id===r);let k=$.value[o];k.detail?(L.value=!0,a.value.duration=k.detail):(L.value=!1,a.value.duration=null)},c=async()=>{try{const r=await M.get("api/v1/user/component/list");r&&(Z.value=r)}catch(r){console.error(r)}},J=async(r,o=null,k=0)=>{if(Y.value=k,a.value.tax=(k==1,2.5),a.value.subject_id=null,P=="mentor")a.value.subject_id=r[0].subjects[0].id;else try{const w=await M.get("api/v1/user/mentor-tutors/"+o+"/subjects");w&&(z.value=w)}catch(w){console.error(w)}},D=async(r,o,k)=>{if(o)try{const w=await M.get("api/v1/component/fee/"+r+"/"+o+"/"+k);w&&(a.value.individual_fee=w.fee_individual,w.fee_individual?v():E.value=null)}catch(w){console.error(w)}},H=async()=>{try{const r=await M.get("api/v1/curriculum/component/list");r&&(W.value=r)}catch(r){console.error(r)}},me=async()=>{var o,k,w;a.value.mentortutor_email=f.value.email;const{valid:r}=await U.value.validate();if(r){n.value=!0;try{const N=await M.post("api/v1/timesheet/create",a.value);N&&(de("success",N.message,"bottom-end"),A("reload"),a.value={ref_id:[],mentortutor_email:null,subject_id:null,subject_name:null,inhouse_id:null,package_id:null,duration:"",notes:"",pic_id:[],tax:null,individual_fee:""},f.value=null,window.open("/admin/timesheet/tutoring/"+((o=N.data)==null?void 0:o.timesheet_id),"_blank"))}catch(N){if(console.log(N),(w=(k=N==null?void 0:N.response)==null?void 0:k.data)!=null&&w.errors){const pe=N.response.data.errors;de("error",pe,"bottom-end")}}finally{A("close"),n.value=!1}}},v=()=>{const r=a.value.individual_fee*(1-a.value.tax/100);E.value=Math.trunc(r)},m=()=>{const r=E.value/(1-a.value.tax/100);a.value.individual_fee=Math.trunc(r)};return fe(()=>{B(),B(!0),g(),c(),H()}),(r,o)=>{var k;return d(),j(ce,{"max-width":"650","prepend-icon":"ri-send-plane-line",title:(k=V.selected[0])==null?void 0:k.program_name},{default:t(()=>[l(se,null,{default:t(()=>{var w;return[_("div",Me,[_("p",De,F(((w=V.selected)==null?void 0:w.length)>1?"Students":"Student")+":",1),(d(!0),T(ae,null,ue(e(u),N=>(d(),T("p",{key:N,class:"text-sm bg-info px-2 rounded"},F(N),1))),128))]),l(Ve,{onSubmit:ge(me,["prevent"]),ref_key:"formData",ref:U,"validate-on":"input"},{default:t(()=>[l(ve,null,{default:t(()=>{var N,pe;return[l(b,{cols:e(f)?11:12},{default:t(()=>[l(O,{clearable:"",modelValue:e(f),"onUpdate:modelValue":[o[0]||(o[0]=p=>K(f)?f.value=p:null),o[1]||(o[1]=p=>J(e(f).roles,e(f).uuid,e(f).has_npwp))],label:"Tutor Name",items:e(X),"item-props":p=>({title:p.full_name,subtitle:p.roles.map(C=>C.name).join(", ")}),rules:e(q).required,loading:e(n),disabled:e(n),density:"compact"},null,8,["modelValue","items","item-props","rules","loading","disabled"])]),_:1},8,["cols"]),e(f)?(d(),j(b,{key:0,cols:"1"},{default:t(()=>[l(_e,{"max-width":"600"},{activator:t(({props:p})=>[l(le,{activator:"parent",location:"end"},{default:t(()=>[x("Fee Detail")]),_:1}),l(S,we({icon:"ri-folder-info-line",class:"cursor-pointer mt-3"},p),null,16)]),default:t(({isActive:p})=>[l(ce,null,{default:t(()=>[l(se,{class:"py-5"},{default:t(()=>{var C;return[_("div",Ge,[Ae,l(oe,{size:"x-small",color:"secondary",icon:"ri-close-line",onClick:re=>p.value=!1},null,8,["onClick"])]),((C=e(f))==null?void 0:C.roles.findIndex(re=>re.name==="Tutor"))>=0?(d(),j(ke,{key:0,density:"compact"},{default:t(()=>[Re,_("tbody",null,[(d(!0),T(ae,null,ue(e(f).roles,(re,he)=>(d(),T(ae,{key:he},[re.name=="Tutor"?(d(!0),T(ae,{key:0},ue(re.subjects,ie=>(d(),T("tr",{key:ie},[_("td",Le,F(ie.tutor_subject),1),_("td",He,F(ie.grade),1),_("td",ze,F(ie.year),1),_("td",Ee,"Rp. "+F(new Intl.NumberFormat("id-ID").format(ie.fee_individual)),1)]))),128)):G("",!0)],64))),128))])]),_:1})):(d(),j(se,{key:1,class:"text-center"},{default:t(()=>[x(" There is no tutoring subject ")]),_:1}))]}),_:2},1024)]),_:2},1024)]),_:1})]),_:1})):G("",!0),l(b,{md:"6",cols:"6"},{default:t(()=>{var p;return[l(O,{clearable:"",modelValue:e(a).curriculum_id,"onUpdate:modelValue":[o[2]||(o[2]=C=>e(a).curriculum_id=C),o[3]||(o[3]=C=>D(e(f).id,e(a).subject_name,e(a).curriculum_id))],label:"Curriculum",items:e(W),"item-props":C=>({title:C.name}),rules:e(q).required,loading:e(n),disabled:e(n)||((p=V.selected[0])==null?void 0:p.curriculum),density:"compact","item-value":"id"},null,8,["modelValue","items","item-props","rules","loading","disabled"])]}),_:1}),((pe=(N=V.selected[0])==null?void 0:N.require)==null?void 0:pe.toLowerCase())=="tutor"?(d(),j(b,{key:1,md:"6",cols:"6"},{default:t(()=>[l(O,{clearable:"",modelValue:e(a).subject_name,"onUpdate:modelValue":[o[4]||(o[4]=p=>e(a).subject_name=p),o[5]||(o[5]=p=>D(e(f).id,e(a).subject_name,e(a).curriculum_id))],label:"Subject Tutoring",items:e(z),loading:e(n),disabled:e(n),rules:e(q).required,density:"compact"},null,8,["modelValue","items","loading","disabled","rules"])]),_:1})):G("",!0),l(b,{md:"8",cols:"8"},{default:t(()=>{var p;return[l(O,{clearable:"",label:"Package",modelValue:e(a).package_id,"onUpdate:modelValue":[o[6]||(o[6]=C=>e(a).package_id=C),ee],items:e($),density:"compact","item-props":C=>({title:C.package!=null?C.type_of+" - "+C.package:C.type_of,subtitle:C.detail?C.detail/60+" Hours":"Customizable"}),"item-value":"id",rules:e(q).required,loading:e(n),disabled:e(n)||((p=V.selected[0])==null?void 0:p.package)},null,8,["modelValue","items","item-props","rules","loading","disabled"])]}),_:1}),l(b,{md:"4",cols:"4"},{default:t(()=>[l(Q,{type:"number",clearable:"",label:e(a).duration/60?"Minutes ("+(e(a).duration/60).toFixed(1)+" Hours)":"Minutes",readonly:e(L),modelValue:e(a).duration,"onUpdate:modelValue":o[7]||(o[7]=p=>e(a).duration=p),density:"compact",rules:e(q).required},null,8,["label","readonly","modelValue","rules"])]),_:1}),l(b,{md:"4",cols:"7"},{default:t(()=>[l(Q,{type:"number",clearable:"",label:"Fee/hours (Nett)",modelValue:e(E),"onUpdate:modelValue":[o[8]||(o[8]=p=>K(E)?E.value=p:null),m],density:"compact",rules:e(q).required},null,8,["modelValue","rules"])]),_:1}),l(b,{md:"4",cols:"5"},{default:t(()=>[l(Q,{type:"number",clearable:"",label:"Tax",modelValue:e(a).tax,"onUpdate:modelValue":[o[9]||(o[9]=p=>e(a).tax=p),m],rules:e(q).required,density:"compact"},null,8,["modelValue","rules"])]),_:1}),l(b,{md:"4",cols:"12"},{default:t(()=>[l(le,{activator:"parent",location:"top"},{default:t(()=>[x(" Fee Gross is automatically calculated based on the entered Net Fee and Tax Rate. ")]),_:1}),l(Q,{type:"number",clearable:"",label:"Fee/hours (Gross)",modelValue:e(a).individual_fee,"onUpdate:modelValue":[o[10]||(o[10]=p=>e(a).individual_fee=p),v],density:"compact",readonly:"",rules:e(q).required},null,8,["modelValue","rules"])]),_:1}),l(b,{md:"6",cols:"6"},{default:t(()=>[l(O,{clearable:"",modelValue:e(a).inhouse_id,"onUpdate:modelValue":o[11]||(o[11]=p=>e(a).inhouse_id=p),label:"Inhouse Mentor/Tutor",items:e(R),density:"compact","item-props":p=>({title:p.full_name}),"item-value":"uuid",loading:e(n),disabled:e(n),rules:e(q).required},null,8,["modelValue","items","item-props","loading","disabled","rules"])]),_:1}),l(b,{md:"6",cols:"6"},{default:t(()=>[l(O,{multiple:"",clearable:"",chips:"",label:"PIC",modelValue:e(a).pic_id,"onUpdate:modelValue":o[12]||(o[12]=p=>e(a).pic_id=p),items:e(Z),"item-title":"full_name","item-value":"id",loading:e(n),density:"compact",disabled:e(n),rules:e(q).required},null,8,["modelValue","items","loading","disabled","rules"])]),_:1}),l(b,{md:"12"},{default:t(()=>[l(xe,{label:"Notes",modelValue:e(a).notes,"onUpdate:modelValue":o[13]||(o[13]=p=>e(a).notes=p),density:"compact"},null,8,["modelValue"])]),_:1})]}),_:1}),l(ye,{class:"mt-5 px-0"},{default:t(()=>[l(oe,{variant:"tonal",color:"error",type:"button",onClick:o[14]||(o[14]=N=>A("close"))},{default:t(()=>[l(S,{icon:"ri-close-line",class:"me-3"}),x(" Close ")]),_:1}),l(be),l(oe,{variant:"tonal",color:"success",type:"submit"},{default:t(()=>[x(" Save "),l(S,{icon:"ri-save-line",class:"ms-3"})]),_:1})]),_:1})]),_:1},512)]}),_:1})]),_:1},8,["title"])}}},Oe={__name:"program_add_specialist",props:{selected:Object},emits:["close","reload"],setup(ne,{emit:y}){var H,me;const V=ne,A=y,n=i(!1),f=i([]),X=i([]),W=i([]),z=i([]),$=i([]),Z=i([]),R=i(!1),L=(me=(H=V.selected[0])==null?void 0:H.require)==null?void 0:me.toLowerCase(),P=i(null),Y=i(null),E=i(),u=i({ref_id:V.selected.map(v=>v.id),mentortutor_email:null,subject_id:null,inhouse_id:null,package_id:null,duration:"",tax:null,individual_fee:null,notes:"",pic_id:[]}),U=async(v=!1)=>{const m=L=="mentor"?"External Mentor":L,s=v?"api/v1/user/mentor-tutors?inhouse=true&role="+L:"api/v1/user/mentor-tutors?role="+m;try{const h=await M.get(s);h&&(v?Z.value=Object.values(h):X.value=h)}catch(h){console.error(h)}},a=async()=>{try{const v=await M.get("api/v1/package/component/list?category="+L);v&&(z.value=v)}catch(v){console.error(v)}},B=()=>{const v=u.value.package_id,m=z.value.findIndex(h=>h.id===v);let s=z.value[m];s.detail?(R.value=!0,u.value.duration=s.detail):(R.value=!1,u.value.duration=null)},g=async()=>{try{const v=await M.get("api/v1/user/component/list");v&&($.value=v)}catch(v){console.error(v)}},ee=async(v,m=null,s=0)=>{var h,I,te,r;if(u.value.subject_id=null,P.value=s,u.value.tax=(s==1,2.5),L=="mentor")u.value.subject_id=(I=(h=v[0])==null?void 0:h.subjects[0])==null?void 0:I.id,u.value.individual_fee=(r=(te=v[0])==null?void 0:te.subjects[0])==null?void 0:r.fee_individual,u.value.individual_fee?J():Y.value=null;else try{const o=await M.get("api/v1/user/mentor-tutors/"+m+"/subjects");o&&(W.value=o)}catch(o){console.error(o)}},c=async()=>{var m,s,h;u.value.mentortutor_email=f.value.email;const{valid:v}=await E.value.validate();if(v){n.value=!0;try{const I=await M.post("api/v1/timesheet/create",u.value);I&&(de("success",I.message,"bottom-end"),A("reload"),u.value={ref_id:[],mentortutor_email:null,subject_id:null,subject_name:null,inhouse_id:null,package_id:null,duration:"",notes:"",pic_id:[],tax:null,individual_fee:""},f.value=[],window.open("/admin/timesheet/specialist/"+((m=I.data)==null?void 0:m.timesheet_id),"_blank"))}catch(I){if((h=(s=I==null?void 0:I.response)==null?void 0:s.data)!=null&&h.errors){const te=I.response.data.errors;de("error",te,"bottom-end")}}finally{A("close"),n.value=!1}}},J=()=>{const v=u.value.individual_fee*(1-u.value.tax/100);Y.value=Math.trunc(v)},D=()=>{const v=Y.value/(1-u.value.tax/100);u.value.individual_fee=Math.trunc(v)};return fe(()=>{U(),U(!0),a(),g()}),(v,m)=>(d(),j(ce,{"max-width":"650","prepend-icon":"ri-send-plane-line",title:"Assign to Subject Specialist"},{default:t(()=>[l(se,null,{default:t(()=>[l(Ve,{onSubmit:ge(c,["prevent"]),ref_key:"formData",ref:E,"validate-on":"input"},{default:t(()=>[l(ve,null,{default:t(()=>[l(b,{md:"12",cols:"12"},{default:t(()=>[l(O,{density:"compact",clearable:"",modelValue:e(f),"onUpdate:modelValue":[m[0]||(m[0]=s=>K(f)?f.value=s:null),m[1]||(m[1]=s=>ee(e(f).roles,e(f).uuid,e(f).has_npwp))],label:"Subject Specialist Name",items:e(X),"item-props":s=>({title:s.full_name,subtitle:s.roles.map(h=>h.name).join(", ")}),rules:e(q).required,loading:e(n),disabled:e(n)},null,8,["modelValue","items","item-props","rules","loading","disabled"])]),_:1}),l(b,{md:"8",cols:"8"},{default:t(()=>[l(O,{density:"compact",clearable:"",label:"Package",modelValue:e(u).package_id,"onUpdate:modelValue":[m[2]||(m[2]=s=>e(u).package_id=s),B],items:e(z),"item-props":s=>({title:s.package!=null?s.type_of+" - "+s.package:s.type_of,subtitle:s.detail?s.detail/60+" Hours":"Customizable"}),"item-value":"id",rules:e(q).required,loading:e(n),disabled:e(n)},null,8,["modelValue","items","item-props","rules","loading","disabled"])]),_:1}),l(b,{md:"4",cols:"4"},{default:t(()=>[l(Q,{density:"compact",type:"number",clearable:"",label:+e(u).duration/60?""+e(u).duration/60+" Hours":"Minutes",readonly:e(R),modelValue:e(u).duration,"onUpdate:modelValue":m[3]||(m[3]=s=>e(u).duration=s),rules:e(q).required},null,8,["label","readonly","modelValue","rules"])]),_:1}),l(b,{md:"4",cols:"7"},{default:t(()=>[l(Q,{type:"number",clearable:"",label:"Fee/hours (Nett)",modelValue:e(Y),"onUpdate:modelValue":[m[4]||(m[4]=s=>K(Y)?Y.value=s:null),D],density:"compact",rules:e(q).required},null,8,["modelValue","rules"])]),_:1}),l(b,{md:"4",cols:"5"},{default:t(()=>[l(Q,{type:"number",clearable:"",label:"Tax",modelValue:e(u).tax,"onUpdate:modelValue":[m[5]||(m[5]=s=>e(u).tax=s),D],rules:e(q).required,density:"compact"},null,8,["modelValue","rules"])]),_:1}),l(b,{md:"4",cols:"12"},{default:t(()=>[l(le,{activator:"parent",location:"top"},{default:t(()=>[x(" Fee Gross is automatically calculated based on the entered Net Fee and Tax Rate. ")]),_:1}),l(Q,{type:"number",clearable:"",label:"Fee/hours (Gross)",modelValue:e(u).individual_fee,"onUpdate:modelValue":[m[6]||(m[6]=s=>e(u).individual_fee=s),J],density:"compact",readonly:"",rules:e(q).required},null,8,["modelValue","rules"])]),_:1}),l(b,{md:"6",cols:"12"},{default:t(()=>[l(O,{density:"compact",clearable:"",modelValue:e(u).inhouse_id,"onUpdate:modelValue":m[7]||(m[7]=s=>e(u).inhouse_id=s),label:"Inhouse Mentor",items:e(Z),"item-props":s=>({title:s.full_name}),"item-value":"uuid",loading:e(n),disabled:e(n),rules:e(q).required},null,8,["modelValue","items","item-props","loading","disabled","rules"])]),_:1}),l(b,{md:"6",cols:"12"},{default:t(()=>[l(O,{density:"compact",multiple:"",clearable:"",chips:"",label:"PIC",modelValue:e(u).pic_id,"onUpdate:modelValue":m[8]||(m[8]=s=>e(u).pic_id=s),items:e($),"item-title":"full_name","item-value":"id",loading:e(n),disabled:e(n),rules:e(q).required},null,8,["modelValue","items","loading","disabled","rules"])]),_:1}),l(b,{md:"12"},{default:t(()=>[l(xe,{label:"Notes",modelValue:e(u).notes,"onUpdate:modelValue":m[9]||(m[9]=s=>e(u).notes=s)},null,8,["modelValue"])]),_:1})]),_:1}),l(ye,{class:"mt-5 px-0"},{default:t(()=>[l(oe,{variant:"tonal",color:"error",type:"button",onClick:m[10]||(m[10]=s=>A("close"))},{default:t(()=>[l(S,{icon:"ri-close-line",class:"me-3"}),x(" Close ")]),_:1}),l(be),l(oe,{variant:"tonal",color:"success",type:"submit"},{default:t(()=>[x(" Save "),l(S,{icon:"ri-save-line",class:"ms-3"})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1}))}},Ye=["innerHTML"],We=_("div",{class:"d-flex justify-between align-center"},[_("div",{class:"w-100"},[_("h4",null,"Program Name")])],-1),Je={key:0,class:"d-flex bg-secondary py-1 px-2 rounded-lg",style:{"align-items":"center"}},Ke=_("th",{class:"text-uppercase",width:"1%"}," # ",-1),Qe=_("th",{class:"text-uppercase text-center"},"Timesheet",-1),Xe=_("th",{class:"text-uppercase text-center"},"Student",-1),Ze=_("th",{class:"text-uppercase text-center"},"School Name",-1),el={class:"text-uppercase text-center"},ll={key:0,class:"text-uppercase text-center"},tl={class:"text-center"},al={class:"text-left",nowrap:""},ol=["onClick"],sl={class:"text-left",nowrap:""},nl={key:0,class:"text-left",nowrap:""},rl={key:1,class:"text-left",nowrap:""},il={key:2,nowrap:""},ul={key:0},dl=_("tr",null,[_("td",{colspan:"6",class:"text-center"}," Sorry, no data found. ")],-1),cl=[dl],ml={class:"d-flex justify-center mt-5"},Il={__name:"program",props:{name:String},setup(ne){const y=i([]),V=i(!1),A=i(!1),n=ne,f=i(1),X=i(),W=i(),z=i([]),$=i(!1),Z=i([]),R=i(),L=i(),P=async()=>{var J,D;const U=n.name,a="?page="+f.value,B=W.value?"&keyword="+W.value:"",g=R.value?"&program_name="+encodeURIComponent(R.value):"",c=U=="tutoring"?"api/v1/program/list"+a+B+g+"&paginate=true":"api/v1/request"+a+W+"&is_cancelled=true";try{$.value=!0;const H=await M.get(c);H&&(f.value=H.current_page,X.value=H.last_page,z.value=H),$.value=!1}catch(H){de("error",(D=(J=H.response)==null?void 0:J.data)==null?void 0:D.message,"bottom-end"),console.error(H),$.value=!1}},Y=async()=>{try{const U=await M.get("api/v1/program/component/list");U&&(Z.value=U)}catch(U){console.error(U)}},E=Se(async U=>{f.value=1,W.value=U.target.value,await P()},1e3),u=U=>{window.open("/admin/timesheet/"+n.name+"/"+U)};return Ce(()=>{P()}),je(()=>{y.value=[]}),fe(()=>{P(),Y()}),(U,a)=>{const B=Te("VText");return d(),T(ae,null,[l(_e,{modelValue:e(A),"onUpdate:modelValue":a[0]||(a[0]=g=>K(A)?A.value=g:null),width:"400"},{default:t(()=>[l(ce,{title:"Notes","prepend-icon":"ri-chat-3-line"},{default:t(()=>[l(se,null,{default:t(()=>[_("div",{innerHTML:e(L)},null,8,Ye)]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ce,null,{default:t(()=>[l($e,null,{default:t(()=>[We]),_:1}),l(se,null,{default:t(()=>[l(ve,{class:"my-1"},{default:t(()=>[n.name=="tutoring"?(d(),j(b,{key:0,cols:"12",md:"3"},{default:t(()=>[l(O,{clearable:"",modelValue:e(R),"onUpdate:modelValue":[a[1]||(a[1]=g=>K(R)?R.value=g:null),P],label:"Program Name",items:e(Z),"item-title":"program_name",placeholder:"Select Program Name",density:"compact","hide-details":"","single-line":"",loading:e($),disabled:e($)},null,8,["modelValue","items","loading","disabled"])]),_:1})):G("",!0),l(b,{cols:"12",md:"3"},{default:t(()=>[l(Q,{loading:e($),disabled:e($),"append-inner-icon":"ri-search-line",density:"compact",label:"Search","hide-details":"","single-line":"",onInput:e(E)},null,8,["loading","disabled","onInput"])]),_:1}),l(b,{cols:"12",md:n.name=="tutoring"?6:9,class:"text-end"},{default:t(()=>[qe((d(),j(oe,{density:"compact",color:e(y).length>0?"warning":"primary",class:"mb-2",disabled:!(e(y).length>0),onClick:a[2]||(a[2]=g=>V.value=!0)},{default:t(()=>[l(S,{icon:"ri-add-line",class:"me-3"}),x(" Assign "+F(e(y).length>1?"to Group":""),1)]),_:1},8,["color","disabled"])),[[Pe,"Generate Timesheet","start"]])]),_:1},8,["md"])]),_:1}),l(_e,{modelValue:e(V),"onUpdate:modelValue":a[7]||(a[7]=g=>K(V)?V.value=g:null),width:"auto",persistent:""},{default:t(()=>[n.name=="tutoring"?(d(),j(Be,{key:0,selected:e(y),onClose:a[3]||(a[3]=g=>{V.value=!1,y.value=[]}),onReload:a[4]||(a[4]=g=>{y.value=[],P()})},null,8,["selected"])):G("",!0),n.name=="specialist"?(d(),j(Oe,{key:1,selected:e(y),onClose:a[5]||(a[5]=g=>V.value=!1),onReload:a[6]||(a[6]=g=>{y.value=[],P()})},null,8,["selected"])):G("",!0)]),_:1},8,["modelValue"]),e(y).length>0?(d(),T("div",Je,[x(" Selected: "),(d(!0),T(ae,null,ue(e(y),g=>(d(),T("small",{class:"bg-info px-3 rounded-xl ms-1 d-flex",style:{"font-size":"10px","align-items":"center"},key:g},[x(F(g.mentee)+" ",1),l(S,{icon:"ri-close-line",color:"error",class:"ms-2 cursor-pointer",onClick:ee=>y.value=e(y).filter(c=>c!==g)},null,8,["onClick"])]))),128))])):G("",!0),e($)?(d(),j(Ne,{key:1,class:"mx-auto border",type:"table-thead, table-row@10"})):(d(),j(ke,{key:2,class:"table-responsive"},{default:t(()=>{var g,ee;return[_("thead",null,[_("tr",null,[Ke,Qe,Xe,Ze,_("th",el,F(n.name=="tutoring"?"Program Name":"Engagement Type"),1),n.name=="tutoring"?(d(),T("th",ll," Tutor Name ")):G("",!0)])]),_("tbody",null,[(d(!0),T(ae,null,ue(e(z).data,(c,J)=>(d(),T("tr",{key:J,class:Ue({"bg-secondary":e(y).includes(c.id)})},[_("td",null,[c.cancellation_reason?(d(),j(B,{key:0},{default:t(()=>[l(le,{activator:"parent",location:"top"},{default:t(()=>[x(" Cancel: "+F(c.cancellation_reason),1)]),_:2},1024),l(S,{icon:"ri-subtract-line",color:"error"})]),_:2},1024)):(!c.timesheet_id||!c.scnd_timesheet_id)&&!c.cancellation_reason?(d(),j(Ie,{key:1,modelValue:e(y),"onUpdate:modelValue":a[8]||(a[8]=D=>K(y)?y.value=D:null),value:{id:c.id,require:c.require,mentee:c.student_name,package:c.package,curriculum:c.curriculum,program_name:c.program_name}},null,8,["modelValue","value"])):c.timesheet_id&&c.scnd_timesheet_id&&!c.cancellation_reason?(d(),j(S,{key:2,icon:"ri-check-line",color:"success"})):G("",!0)]),_("td",tl,[c.timesheet_id?(d(),j(B,{key:0,class:"cursor-pointer",onClick:D=>u(c.timesheet_id)},{default:t(()=>[l(S,{icon:"ri-file-check-line",class:"mx-1",color:"success"}),l(le,{activator:"parent",location:"top"},{default:t(()=>[x("Already")]),_:1})]),_:2},1032,["onClick"])):(d(),j(B,{key:1},{default:t(()=>[l(S,{icon:"ri-file-close-line",class:"mx-1",color:"error"}),l(le,{activator:"parent",location:"top"},{default:t(()=>[x("Not Yet")]),_:1})]),_:1})),c.scnd_timesheet_id?(d(),j(B,{key:2,class:"cursor-pointer",onClick:D=>u(c.scnd_timesheet_id)},{default:t(()=>[l(S,{icon:"ri-file-check-line",class:"mx-1",color:"success"}),l(le,{activator:"parent",location:"top"},{default:t(()=>[x("Already")]),_:1})]),_:2},1032,["onClick"])):G("",!0)]),_("td",al,[l(S,{icon:"ri-user-line",class:"me-3"}),x(" "+F(c.student_name)+" ",1),n.name=="specialist"&&c.notes?(d(),T("div",{key:0,class:"d-inline ms-2 cursor-pointer",onClick:D=>{A.value=!0,L.value=c.notes}},[l(le,{activator:"parent",location:"start"},{default:t(()=>[x(" Notes ")]),_:1}),l(S,{icon:"ri-chat-3-line",color:"info"})],8,ol)):G("",!0)]),_("td",sl,F(c.student_school),1),n.name=="tutoring"?(d(),T("td",nl,[l(S,{icon:"ri-bookmark-line",class:"me-3"}),x(" "+F(c.free_trial?"[TRIAL]":"")+" "+F(c.program_name),1)])):(d(),T("td",rl,[l(S,{icon:"ri-bookmark-line",class:"me-3"}),x(" "+F(c.engagement_type),1)])),n.name=="tutoring"?(d(),T("td",il,F(c.tutor_name),1)):G("",!0)],2))),128))]),((ee=(g=e(z))==null?void 0:g.data)==null?void 0:ee.length)==0?(d(),T("tfoot",ul,cl)):G("",!0)]}),_:1})),_("div",ml,[l(Fe,{modelValue:e(f),"onUpdate:modelValue":[a[9]||(a[9]=g=>K(f)?f.value=g:null),P],length:e(X),"total-visible":4,color:"primary",density:"compact","show-first-last-page":!1},null,8,["modelValue","length"])])]),_:1})]),_:1})],64)}}};export{Il as default};
