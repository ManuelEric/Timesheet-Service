import{r as d,e as ne,o as f,f as C,w as t,b as l,Z as de,u as e,z as O,V as j,a as x,t as G,h as S,W,j as T,Y as ee,m as ce,A as U,s as le,$ as _e,a0 as ge,c as D,F as se,l as be,x as ye,X as ie,n as Ve}from"./main-B612xuV_.js";import{r as h}from"./rules-CkvmYWH-.js";import{a as te,c as me,V as ae,b as ke}from"./VCard-B_G6zAOu.js";import{V as pe}from"./VForm-fsLriTB4.js";import{V as re,a as y}from"./VRow-CyY4feM4.js";import{V as E}from"./VAutocomplete-C9zrn-HJ.js";import{V as fe}from"./VAlert-NHyml5Wv.js";import{V as J}from"./VTooltip-esJBLZqp.js";import{V as ve}from"./VTextarea-BSqtqmw-.js";import{d as xe}from"./debounce-C5sVHXjw.js";import{V as ue}from"./VDialog-N3CvdusM.js";import{a as he,V as we}from"./VTable-DV0A6nph.js";import{V as Ce}from"./VPagination-CKTbp9q-.js";import{T as je}from"./index-l3ht3HuB.js";import{V as Te}from"./VCheckbox-BqrawhdC.js";import"./VAvatar-BlsYS7oB.js";import"./VImg-BqTmDFTW.js";import"./VList-CR2U-BX8.js";import"./ssrBoot-B5hRsP2Y.js";import"./VDivider-zm-4i0T9.js";import"./VCheckboxBtn-BQfN0aYw.js";import"./VSelectionControl-CYj69ent.js";import"./VSlideGroup-i2J4aABz.js";const Ne={__name:"program_add",props:{selected:Object},emits:["close","reload"],setup(K,{emit:V}){var c,r;const q=K,$=V,i=d(!1),_=d([]),Y=d([]),B=d([]),L=d([]),N=d([]),X=d([]),F=d([]),M=d(!1),w=(r=(c=q.selected[0])==null?void 0:c.require)==null?void 0:r.toLowerCase(),P=d(null),R=d(null),u=d(),o=d({ref_id:q.selected.map(n=>n.id),mentortutor_email:null,subject_id:null,inhouse_id:null,package_id:null,tax:null,individual_fee:null,duration:"",notes:"",pic_id:[],curriculum_id:null}),v=async(n=!1)=>{const a=n?"api/v1/user/mentor-tutors?inhouse=true&role="+w:"api/v1/user/mentor-tutors?role="+w;try{const b=await U.get(a);b&&(n?F.value=Object.values(b):Y.value=b)}catch(b){console.error(b)}},H=async()=>{try{const n=await U.get("api/v1/package/component/list?category="+w);n&&(N.value=n)}catch(n){console.error(n)}},g=()=>{const n=o.value.package_id,a=N.value.findIndex(k=>k.id===n);let b=N.value[a];b.detail?(M.value=!0,o.value.duration=b.detail):(M.value=!1,o.value.duration=null)},Z=async()=>{try{const n=await U.get("api/v1/user/component/list");n&&(X.value=n)}catch(n){console.error(n)}},m=async(n,a=null,b=0)=>{if(P.value=b,o.value.tax=(b==1,2.5),o.value.subject_id=null,w=="mentor")o.value.subject_id=n[0].subjects[0].id;else try{const k=await U.get("api/v1/user/mentor-tutors/"+a+"/subjects");k&&(L.value=k)}catch(k){console.error(k)}},z=async(n,a,b)=>{if(a)try{const k=await U.get("api/v1/component/fee/"+n+"/"+a+"/"+b);k&&(o.value.individual_fee=k.fee_individual,k.fee_individual?Q():R.value=null)}catch(k){console.error(k)}},I=async()=>{try{const n=await U.get("api/v1/curriculum/component/list");n&&(B.value=n)}catch(n){console.error(n)}},A=async()=>{var a,b,k;o.value.mentortutor_email=_.value.email;const{valid:n}=await u.value.validate();if(n){i.value=!0;try{const s=await U.post("api/v1/timesheet/create",o.value);s&&(le("success",s.message,"bottom-end"),$("reload"),o.value={ref_id:[],mentortutor_email:null,subject_id:null,subject_name:null,inhouse_id:null,package_id:null,duration:"",notes:"",pic_id:[],tax:null,individual_fee:""},_.value=[],window.open("/admin/timesheet/tutoring/"+((a=s.data)==null?void 0:a.timesheet_id),"_blank"))}catch(s){if(console.log(s),(k=(b=s==null?void 0:s.response)==null?void 0:b.data)!=null&&k.errors){const oe=s.response.data.errors;le("error",oe,"bottom-end")}}finally{$("close"),i.value=!1}}},Q=()=>{const n=o.value.individual_fee*(1-o.value.tax/100);R.value=Math.trunc(n)},p=()=>{const n=R.value/(1-o.value.tax/100);o.value.individual_fee=Math.trunc(n)};return ne(()=>{v(),v(!0),H(),Z(),I()}),(n,a)=>(f(),C(ae,{"max-width":"650","prepend-icon":"ri-send-plane-line",title:"Assign to Tutor"},{default:t(()=>[l(te,null,{default:t(()=>[l(pe,{onSubmit:de(A,["prevent"]),ref_key:"formData",ref:u,"validate-on":"input"},{default:t(()=>[l(re,null,{default:t(()=>{var b,k;return[l(y,{md:"12",cols:"12"},{default:t(()=>[l(E,{clearable:"",modelValue:e(_),"onUpdate:modelValue":[a[0]||(a[0]=s=>O(_)?_.value=s:null),a[1]||(a[1]=s=>m(e(_).roles,e(_).uuid,e(_).has_npwp))],label:"Tutor Name",items:e(Y),"item-props":s=>({title:s.full_name,subtitle:s.roles.map(oe=>oe.name).join(", ")}),rules:e(h).required,loading:e(i),disabled:e(i),density:"compact"},null,8,["modelValue","items","item-props","rules","loading","disabled"]),e(P)!=null?(f(),C(fe,{key:0,color:e(P)==1?"success":"error",class:"py-1 mt-2"},{default:t(()=>[l(j,{icon:"ri-error-warning-line",class:"mr-2"}),x("small",null," Tutor "+G(e(P)==1?"already":"don`t")+" have NPWP ",1)]),_:1},8,["color"])):S("",!0)]),_:1}),l(y,{md:"6",cols:"6"},{default:t(()=>[l(E,{clearable:"",modelValue:e(o).curriculum_id,"onUpdate:modelValue":[a[2]||(a[2]=s=>e(o).curriculum_id=s),a[3]||(a[3]=s=>z(e(_).id,e(o).subject_name,e(o).curriculum_id))],label:"Curriculum",items:e(B),"item-props":s=>({title:s.name}),rules:e(h).required,loading:e(i),disabled:e(i),density:"compact","item-value":"id"},null,8,["modelValue","items","item-props","rules","loading","disabled"])]),_:1}),((k=(b=q.selected[0])==null?void 0:b.require)==null?void 0:k.toLowerCase())=="tutor"?(f(),C(y,{key:0,md:"6",cols:"6"},{default:t(()=>[l(E,{clearable:"",modelValue:e(o).subject_name,"onUpdate:modelValue":[a[4]||(a[4]=s=>e(o).subject_name=s),a[5]||(a[5]=s=>z(e(_).id,e(o).subject_name,e(o).curriculum_id))],label:"Subject Tutoring",items:e(L),loading:e(i),disabled:e(i),rules:e(h).required,density:"compact"},null,8,["modelValue","items","loading","disabled","rules"])]),_:1})):S("",!0),l(y,{md:"8",cols:"8"},{default:t(()=>[l(E,{clearable:"",label:"Package",modelValue:e(o).package_id,"onUpdate:modelValue":[a[6]||(a[6]=s=>e(o).package_id=s),g],items:e(N),density:"compact","item-props":s=>({title:s.package!=null?s.type_of+" - "+s.package:s.type_of,subtitle:s.detail?s.detail/60+" Hours":"Customizable"}),"item-value":"id",rules:e(h).required,loading:e(i),disabled:e(i)},null,8,["modelValue","items","item-props","rules","loading","disabled"])]),_:1}),l(y,{md:"4",cols:"4"},{default:t(()=>[l(W,{type:"number",clearable:"",label:+e(o).duration/60?"Minutes ("+e(o).duration/60+" Hours)":"Minutes",readonly:e(M),modelValue:e(o).duration,"onUpdate:modelValue":a[7]||(a[7]=s=>e(o).duration=s),density:"compact",rules:e(h).required},null,8,["label","readonly","modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"7"},{default:t(()=>[l(W,{type:"number",clearable:"",label:"Fee/hours (Nett)",modelValue:e(R),"onUpdate:modelValue":[a[8]||(a[8]=s=>O(R)?R.value=s:null),p],density:"compact",rules:e(h).required},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"5"},{default:t(()=>[l(W,{type:"number",clearable:"",label:"Tax",modelValue:e(o).tax,"onUpdate:modelValue":[a[9]||(a[9]=s=>e(o).tax=s),p],rules:e(h).required,density:"compact"},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"12"},{default:t(()=>[l(J,{activator:"parent",location:"top"},{default:t(()=>[T(" Fee Gross is automatically calculated based on the entered Net Fee and Tax Rate. ")]),_:1}),l(W,{type:"number",clearable:"",label:"Fee/hours (Gross)",modelValue:e(o).individual_fee,"onUpdate:modelValue":[a[10]||(a[10]=s=>e(o).individual_fee=s),Q],density:"compact",readonly:"",rules:e(h).required},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"6",cols:"6"},{default:t(()=>[l(E,{clearable:"",modelValue:e(o).inhouse_id,"onUpdate:modelValue":a[11]||(a[11]=s=>e(o).inhouse_id=s),label:"Inhouse Mentor/Tutor",items:e(F),density:"compact","item-props":s=>({title:s.full_name}),"item-value":"uuid",loading:e(i),disabled:e(i),rules:e(h).required},null,8,["modelValue","items","item-props","loading","disabled","rules"])]),_:1}),l(y,{md:"6",cols:"6"},{default:t(()=>[l(E,{multiple:"",clearable:"",chips:"",label:"PIC",modelValue:e(o).pic_id,"onUpdate:modelValue":a[12]||(a[12]=s=>e(o).pic_id=s),items:e(X),"item-title":"full_name","item-value":"id",loading:e(i),density:"compact",disabled:e(i),rules:e(h).required},null,8,["modelValue","items","loading","disabled","rules"])]),_:1}),l(y,{md:"12"},{default:t(()=>[l(ve,{label:"Notes",modelValue:e(o).notes,"onUpdate:modelValue":a[13]||(a[13]=s=>e(o).notes=s),density:"compact"},null,8,["modelValue"])]),_:1})]}),_:1}),l(me,{class:"mt-5 px-0"},{default:t(()=>[l(ee,{variant:"tonal",color:"error",type:"button",onClick:a[14]||(a[14]=b=>$("close"))},{default:t(()=>[l(j,{icon:"ri-close-line",class:"me-3"}),T(" Close ")]),_:1}),l(ce),l(ee,{variant:"tonal",color:"success",type:"submit"},{default:t(()=>[T(" Save "),l(j,{icon:"ri-save-line",class:"ms-3"})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1}))}},Ue={__name:"program_add_specialist",props:{selected:Object},emits:["close","reload"],setup(K,{emit:V}){var A,Q;const q=K,$=V,i=d(!1),_=d([]),Y=d([]),B=d([]),L=d([]),N=d([]),X=d([]),F=d(!1),M=(Q=(A=q.selected[0])==null?void 0:A.require)==null?void 0:Q.toLowerCase(),w=d(null),P=d(null),R=d(),u=d({ref_id:q.selected.map(p=>p.id),mentortutor_email:null,subject_id:null,inhouse_id:null,package_id:null,duration:"",tax:null,individual_fee:null,notes:"",pic_id:[]}),o=async(p=!1)=>{const c=M=="mentor"?"External Mentor":M,r=p?"api/v1/user/mentor-tutors?inhouse=true&role="+M:"api/v1/user/mentor-tutors?role="+c;try{const n=await U.get(r);n&&(p?X.value=Object.values(n):Y.value=n)}catch(n){console.error(n)}},v=async()=>{try{const p=await U.get("api/v1/package/component/list?category="+M);p&&(L.value=p)}catch(p){console.error(p)}},H=()=>{const p=u.value.package_id,c=L.value.findIndex(n=>n.id===p);let r=L.value[c];r.detail?(F.value=!0,u.value.duration=r.detail):(F.value=!1,u.value.duration=null)},g=async()=>{try{const p=await U.get("api/v1/user/component/list");p&&(N.value=p)}catch(p){console.error(p)}},Z=async(p,c=null,r=0)=>{var n,a,b,k;if(u.value.subject_id=null,w.value=r,u.value.tax=(r==1,2.5),M=="mentor")u.value.subject_id=(a=(n=p[0])==null?void 0:n.subjects[0])==null?void 0:a.id,u.value.individual_fee=(k=(b=p[0])==null?void 0:b.subjects[0])==null?void 0:k.fee_individual,u.value.individual_fee?z():P.value=null;else try{const s=await U.get("api/v1/user/mentor-tutors/"+c+"/subjects");s&&(B.value=s)}catch(s){console.error(s)}},m=async()=>{var c,r,n;u.value.mentortutor_email=_.value.email;const{valid:p}=await R.value.validate();if(p){i.value=!0;try{const a=await U.post("api/v1/timesheet/create",u.value);a&&(le("success",a.message,"bottom-end"),$("reload"),u.value={ref_id:[],mentortutor_email:null,subject_id:null,subject_name:null,inhouse_id:null,package_id:null,duration:"",notes:"",pic_id:[],tax:null,individual_fee:""},_.value=[],window.open("/admin/timesheet/specialist/"+((c=a.data)==null?void 0:c.timesheet_id),"_blank"))}catch(a){if((n=(r=a==null?void 0:a.response)==null?void 0:r.data)!=null&&n.errors){const b=a.response.data.errors;le("error",b,"bottom-end")}}finally{$("close"),i.value=!1}}},z=()=>{const p=u.value.individual_fee*(1-u.value.tax/100);P.value=Math.trunc(p)},I=()=>{const p=P.value/(1-u.value.tax/100);u.value.individual_fee=Math.trunc(p)};return ne(()=>{o(),o(!0),v(),g()}),(p,c)=>(f(),C(ae,{"max-width":"650","prepend-icon":"ri-send-plane-line",title:"Assign to External Mentor"},{default:t(()=>[l(te,null,{default:t(()=>[l(pe,{onSubmit:de(m,["prevent"]),ref_key:"formData",ref:R,"validate-on":"input"},{default:t(()=>[l(re,null,{default:t(()=>[l(y,{md:"12",cols:"12"},{default:t(()=>[l(E,{density:"compact",clearable:"",modelValue:e(_),"onUpdate:modelValue":[c[0]||(c[0]=r=>O(_)?_.value=r:null),c[1]||(c[1]=r=>Z(e(_).roles,e(_).uuid,e(_).has_npwp))],label:"Mentor Name",items:e(Y),"item-props":r=>({title:r.full_name,subtitle:r.roles.map(n=>n.name).join(", ")}),rules:e(h).required,loading:e(i),disabled:e(i)},null,8,["modelValue","items","item-props","rules","loading","disabled"]),e(w)!=null?(f(),C(fe,{key:0,color:e(w)==1?"success":"error",class:"py-2 mt-2"},{default:t(()=>[l(j,{icon:"ri-error-warning-line",class:"mr-2"}),x("small",null," Mentor "+G(e(w)==1?"already":"don`t")+" have NPWP ",1)]),_:1},8,["color"])):S("",!0)]),_:1}),l(y,{md:"8",cols:"8"},{default:t(()=>[l(E,{density:"compact",clearable:"",label:"Package",modelValue:e(u).package_id,"onUpdate:modelValue":[c[2]||(c[2]=r=>e(u).package_id=r),H],items:e(L),"item-props":r=>({title:r.package!=null?r.type_of+" - "+r.package:r.type_of,subtitle:r.detail?r.detail/60+" Hours":"Customizable"}),"item-value":"id",rules:e(h).required,loading:e(i),disabled:e(i)},null,8,["modelValue","items","item-props","rules","loading","disabled"])]),_:1}),l(y,{md:"4",cols:"4"},{default:t(()=>[l(W,{density:"compact",type:"number",clearable:"",label:+e(u).duration/60?""+e(u).duration/60+" Hours":"Minutes",readonly:e(F),modelValue:e(u).duration,"onUpdate:modelValue":c[3]||(c[3]=r=>e(u).duration=r),rules:e(h).required},null,8,["label","readonly","modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"7"},{default:t(()=>[l(W,{type:"number",clearable:"",label:"Fee/hours (Nett)",modelValue:e(P),"onUpdate:modelValue":[c[4]||(c[4]=r=>O(P)?P.value=r:null),I],density:"compact",rules:e(h).required},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"5"},{default:t(()=>[l(W,{type:"number",clearable:"",label:"Tax",modelValue:e(u).tax,"onUpdate:modelValue":[c[5]||(c[5]=r=>e(u).tax=r),I],rules:e(h).required,density:"compact"},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"4",cols:"12"},{default:t(()=>[l(J,{activator:"parent",location:"top"},{default:t(()=>[T(" Fee Gross is automatically calculated based on the entered Net Fee and Tax Rate. ")]),_:1}),l(W,{type:"number",clearable:"",label:"Fee/hours (Gross)",modelValue:e(u).individual_fee,"onUpdate:modelValue":[c[6]||(c[6]=r=>e(u).individual_fee=r),z],density:"compact",readonly:"",rules:e(h).required},null,8,["modelValue","rules"])]),_:1}),l(y,{md:"6",cols:"12"},{default:t(()=>[l(E,{density:"compact",clearable:"",modelValue:e(u).inhouse_id,"onUpdate:modelValue":c[7]||(c[7]=r=>e(u).inhouse_id=r),label:"Inhouse Mentor",items:e(X),"item-props":r=>({title:r.full_name}),"item-value":"uuid",loading:e(i),disabled:e(i),rules:e(h).required},null,8,["modelValue","items","item-props","loading","disabled","rules"])]),_:1}),l(y,{md:"6",cols:"12"},{default:t(()=>[l(E,{density:"compact",multiple:"",clearable:"",chips:"",label:"PIC",modelValue:e(u).pic_id,"onUpdate:modelValue":c[8]||(c[8]=r=>e(u).pic_id=r),items:e(N),"item-title":"full_name","item-value":"id",loading:e(i),disabled:e(i),rules:e(h).required},null,8,["modelValue","items","loading","disabled","rules"])]),_:1}),l(y,{md:"12"},{default:t(()=>[l(ve,{label:"Notes",modelValue:e(u).notes,"onUpdate:modelValue":c[9]||(c[9]=r=>e(u).notes=r)},null,8,["modelValue"])]),_:1})]),_:1}),l(me,{class:"mt-5 px-0"},{default:t(()=>[l(ee,{variant:"tonal",color:"error",type:"button",onClick:c[10]||(c[10]=r=>$("close"))},{default:t(()=>[l(j,{icon:"ri-close-line",class:"me-3"}),T(" Close ")]),_:1}),l(ce),l(ee,{variant:"tonal",color:"success",type:"submit"},{default:t(()=>[T(" Save "),l(j,{icon:"ri-save-line",class:"ms-3"})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1}))}},qe=["innerHTML"],Pe=x("div",{class:"d-flex justify-between align-center"},[x("div",{class:"w-100"},[x("h4",null,"Program Name")])],-1),Se={key:0,class:"d-flex bg-secondary py-1 px-2 rounded-lg",style:{"align-items":"center"}},$e=x("th",{class:"text-uppercase",width:"1%"}," # ",-1),Fe=x("th",{class:"text-uppercase text-center"},"Timesheet",-1),Me=x("th",{class:"text-uppercase text-center"},"Student",-1),Ie=x("th",{class:"text-uppercase text-center"},"School Name",-1),Ae={class:"text-uppercase text-center"},De={key:0,class:"text-uppercase text-center"},Ge={class:"text-center"},Le={class:"text-left",nowrap:""},Re=["onClick"],Ee={class:"text-left",nowrap:""},He={key:0,class:"text-left",nowrap:""},ze={key:1,class:"text-left",nowrap:""},Be={key:2,nowrap:""},Oe={key:0},We=x("tr",null,[x("td",{colspan:"6",class:"text-center"}," Sorry, no data found. ")],-1),Ye=[We],Xe={class:"d-flex justify-center mt-5"},yl={__name:"program",props:{name:String},setup(K){const V=d([]),q=d(!1),$=d(!1),i=K,_=d(1),Y=d(),B=d(),L=d([]),N=d(!1),X=d([]),F=d(),M=d(),w=async()=>{var z,I;const o=i.name,v="?page="+_.value,H=B.value?"&keyword="+B.value:"",g=F.value?"&program_name="+encodeURIComponent(F.value):"",m=o=="tutoring"?"api/v1/program/list"+v+H+g+"&paginate=true":"api/v1/request"+v+B+"&is_cancelled=true";try{N.value=!0;const A=await U.get(m);A&&(_.value=A.current_page,Y.value=A.last_page,L.value=A),N.value=!1}catch(A){le("error",(I=(z=A.response)==null?void 0:z.data)==null?void 0:I.message,"bottom-end"),console.error(A),N.value=!1}},P=async()=>{try{const o=await U.get("api/v1/program/component/list");o&&(X.value=o)}catch(o){console.error(o)}},R=xe(async o=>{_.value=1,B.value=o.target.value,await w()},1e3),u=o=>{window.open("/admin/timesheet/"+i.name+"/"+o)};return _e(()=>{w()}),ge(()=>{V.value=[]}),ne(()=>{w(),P()}),(o,v)=>{const H=be("VText");return f(),D(se,null,[l(ue,{modelValue:e($),"onUpdate:modelValue":v[0]||(v[0]=g=>O($)?$.value=g:null),width:"400"},{default:t(()=>[l(ae,{title:"Notes","prepend-icon":"ri-chat-3-line"},{default:t(()=>[l(te,null,{default:t(()=>[x("div",{innerHTML:e(M)},null,8,qe)]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ae,null,{default:t(()=>[l(ke,null,{default:t(()=>[Pe]),_:1}),l(te,null,{default:t(()=>[l(re,{class:"my-1"},{default:t(()=>[i.name=="tutoring"?(f(),C(y,{key:0,cols:"12",md:"3"},{default:t(()=>[l(E,{clearable:"",modelValue:e(F),"onUpdate:modelValue":[v[1]||(v[1]=g=>O(F)?F.value=g:null),w],label:"Program Name",items:e(X),"item-title":"program_name",placeholder:"Select Program Name",density:"compact","hide-details":"","single-line":"",loading:e(N),disabled:e(N)},null,8,["modelValue","items","loading","disabled"])]),_:1})):S("",!0),l(y,{cols:"12",md:"3"},{default:t(()=>[l(W,{loading:e(N),disabled:e(N),"append-inner-icon":"ri-search-line",density:"compact",label:"Search","hide-details":"","single-line":"",onInput:e(R)},null,8,["loading","disabled","onInput"])]),_:1}),l(y,{cols:"12",md:i.name=="tutoring"?6:9,class:"text-end"},{default:t(()=>[ye((f(),C(ee,{density:"compact",color:e(V).length>0?"warning":"primary",class:"mb-2",disabled:!(e(V).length>0),onClick:v[2]||(v[2]=g=>q.value=!0)},{default:t(()=>[l(j,{icon:"ri-add-line",class:"me-3"}),T(" Assign "+G(e(V).length>1?"to Group":""),1)]),_:1},8,["color","disabled"])),[[je,"Generate Timesheet","start"]])]),_:1},8,["md"])]),_:1}),l(ue,{modelValue:e(q),"onUpdate:modelValue":v[7]||(v[7]=g=>O(q)?q.value=g:null),width:"auto",persistent:""},{default:t(()=>[i.name=="tutoring"?(f(),C(Ne,{key:0,selected:e(V),onClose:v[3]||(v[3]=g=>{q.value=!1,V.value=[]}),onReload:v[4]||(v[4]=g=>{V.value=[],w()})},null,8,["selected"])):S("",!0),i.name=="specialist"?(f(),C(Ue,{key:1,selected:e(V),onClose:v[5]||(v[5]=g=>q.value=!1),onReload:v[6]||(v[6]=g=>{V.value=[],w()})},null,8,["selected"])):S("",!0)]),_:1},8,["modelValue"]),e(V).length>0?(f(),D("div",Se,[T(" Selected: "),(f(!0),D(se,null,ie(e(V),g=>(f(),D("small",{class:"bg-info px-3 rounded-xl ms-1 d-flex",style:{"font-size":"10px","align-items":"center"},key:g},[T(G(g.mentee)+" ",1),l(j,{icon:"ri-close-line",color:"error",class:"ms-2 cursor-pointer",onClick:Z=>V.value=e(V).filter(m=>m!==g)},null,8,["onClick"])]))),128))])):S("",!0),e(N)?(f(),C(we,{key:1,class:"mx-auto border",type:"table-thead, table-row@10"})):(f(),C(he,{key:2,class:"table-responsive"},{default:t(()=>{var g,Z;return[x("thead",null,[x("tr",null,[$e,Fe,Me,Ie,x("th",Ae,G(i.name=="tutoring"?"Program Name":"Engagement Type"),1),i.name=="tutoring"?(f(),D("th",De," Tutor Name ")):S("",!0)])]),x("tbody",null,[(f(!0),D(se,null,ie(e(L).data,(m,z)=>(f(),D("tr",{key:z,class:Ve({"bg-secondary":e(V).includes(m.id)})},[x("td",null,[m.cancellation_reason?(f(),C(H,{key:0},{default:t(()=>[l(J,{activator:"parent",location:"top"},{default:t(()=>[T(" Cancel: "+G(m.cancellation_reason),1)]),_:2},1024),l(j,{icon:"ri-subtract-line",color:"error"})]),_:2},1024)):(!m.timesheet_id||!m.scnd_timesheet_id)&&!m.cancellation_reason?(f(),C(Te,{key:1,modelValue:e(V),"onUpdate:modelValue":v[8]||(v[8]=I=>O(V)?V.value=I:null),value:{id:m.id,require:m.require,mentee:m.student_name}},null,8,["modelValue","value"])):m.timesheet_id&&m.scnd_timesheet_id&&!m.cancellation_reason?(f(),C(j,{key:2,icon:"ri-check-line",color:"success"})):S("",!0)]),x("td",Ge,[m.timesheet_id?(f(),C(H,{key:0,class:"cursor-pointer",onClick:I=>u(m.timesheet_id)},{default:t(()=>[l(j,{icon:"ri-file-check-line",class:"mx-1",color:"success"}),l(J,{activator:"parent",location:"top"},{default:t(()=>[T("Already")]),_:1})]),_:2},1032,["onClick"])):(f(),C(H,{key:1},{default:t(()=>[l(j,{icon:"ri-file-close-line",class:"mx-1",color:"error"}),l(J,{activator:"parent",location:"top"},{default:t(()=>[T("Not Yet")]),_:1})]),_:1})),m.scnd_timesheet_id?(f(),C(H,{key:2,class:"cursor-pointer",onClick:I=>u(m.scnd_timesheet_id)},{default:t(()=>[l(j,{icon:"ri-file-check-line",class:"mx-1",color:"success"}),l(J,{activator:"parent",location:"top"},{default:t(()=>[T("Already")]),_:1})]),_:2},1032,["onClick"])):S("",!0)]),x("td",Le,[l(j,{icon:"ri-user-line",class:"me-3"}),T(" "+G(m.student_name)+" ",1),i.name=="specialist"&&m.notes?(f(),D("div",{key:0,class:"d-inline ms-2 cursor-pointer",onClick:I=>{$.value=!0,M.value=m.notes}},[l(J,{activator:"parent",location:"start"},{default:t(()=>[T(" Notes ")]),_:1}),l(j,{icon:"ri-chat-3-line",color:"info"})],8,Re)):S("",!0)]),x("td",Ee,G(m.student_school),1),i.name=="tutoring"?(f(),D("td",He,[l(j,{icon:"ri-bookmark-line",class:"me-3"}),T(" "+G(m.free_trial?"[TRIAL]":"")+" "+G(m.program_name),1)])):(f(),D("td",ze,[l(j,{icon:"ri-bookmark-line",class:"me-3"}),T(" "+G(m.engagement_type),1)])),i.name=="tutoring"?(f(),D("td",Be,G(m.tutor_name),1)):S("",!0)],2))),128))]),((Z=(g=e(L))==null?void 0:g.data)==null?void 0:Z.length)==0?(f(),D("tfoot",Oe,Ye)):S("",!0)]}),_:1})),x("div",Xe,[l(Ce,{modelValue:e(_),"onUpdate:modelValue":[v[9]||(v[9]=g=>O(_)?_.value=g:null),w],length:e(Y),"total-visible":4,color:"primary",density:"compact","show-first-last-page":!1},null,8,["modelValue","length"])])]),_:1})]),_:1})],64)}}};export{yl as default};
